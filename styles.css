/* =================================================================
   EDUVERSE - PREMIUM GLASSMORPHISM UI
   Ultra-Modern Design with Stunning Animations
   ================================================================= */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

:root {
    /* Premium Color Palette */
    --primary: #6366f1;
    --primary-light: #818cf8;
    --primary-dark: #4f46e5;
    --secondary: #ec4899;
    --accent: #8b5cf6;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    
    /* Glassmorphism Variables */
    --glass-bg: rgba(255, 255, 255, 0.08);
    --glass-border: rgba(255, 255, 255, 0.18);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    
    /* Background */
    --bg-primary: #0a0e27;
    --bg-secondary: #1a1f3a;
    
    /* Text Colors */
    --text-primary: #ffffff;
    --text-secondary: rgba(255, 255, 255, 0.7);
    --text-tertiary: rgba(255, 255, 255, 0.5);
    
    /* Gradients */
    --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --gradient-4: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    --gradient-5: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    --gradient-6: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
    
    /* Spacing */
    --spacing-xs: 0.5rem;
    --spacing-sm: 1rem;
    --spacing-md: 1.5rem;
    --spacing-lg: 2rem;
    --spacing-xl: 3rem;
    --spacing-2xl: 4rem;
    
    /* Border Radius */
    --radius-sm: 12px;
    --radius-md: 16px;
    --radius-lg: 24px;
    --radius-xl: 32px;
    
    /* Transitions */
    --transition-fast: 0.2s ease;
    --transition-normal: 0.3s ease;
    --transition-slow: 0.5s ease;
}

[data-theme="light"] {
    --bg-primary: #f0f4ff;
    --bg-secondary: #ffffff;
    --text-primary: #1a1f3a;
    --text-secondary: rgba(26, 31, 58, 0.7);
    --text-tertiary: rgba(26, 31, 58, 0.5);
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.8);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
}

[data-theme="minimal"] {
    /* Minimal Professional Theme - Clean & Sophisticated */
    --primary: #2dd4bf;
    --primary-light: #5eead4;
    --primary-dark: #14b8a6;
    --secondary: #22d3ee;
    --accent: #06b6d4;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    
    /* Glassmorphism Variables - Subtle and clean */
    --glass-bg: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(45, 212, 191, 0.15);
    --glass-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
    
    /* Background - Deep, clean blacks */
    --bg-primary: #0a0a0a;
    --bg-secondary: #141414;
    
    /* Text Colors - Clean whites */
    --text-primary: #ffffff;
    --text-secondary: rgba(255, 255, 255, 0.65);
    --text-tertiary: rgba(255, 255, 255, 0.4);
    
    /* Minimal Gradients - Subtle and professional */
    --gradient-1: linear-gradient(135deg, #2dd4bf 0%, #06b6d4 100%);
    --gradient-2: linear-gradient(135deg, #22d3ee 0%, #2dd4bf 100%);
    --gradient-3: linear-gradient(135deg, #14b8a6 0%, #0891b2 100%);
    --gradient-4: linear-gradient(135deg, #5eead4 0%, #22d3ee 100%);
    --gradient-5: linear-gradient(135deg, #2dd4bf 0%, #14b8a6 100%);
    --gradient-6: linear-gradient(135deg, #06b6d4 0%, #0e7490 100%);
}

[data-theme="purple"] {
    /* Theme 4 - Purple Elegance */
    --primary: #a855f7;
    --primary-light: #c084fc;
    --primary-dark: #9333ea;
    --secondary: #d946ef;
    --accent: #c026d3;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    
    --glass-bg: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(168, 85, 247, 0.15);
    --glass-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
    
    --bg-primary: #0a0a0a;
    --bg-secondary: #141414;
    
    --text-primary: #ffffff;
    --text-secondary: rgba(255, 255, 255, 0.65);
    --text-tertiary: rgba(255, 255, 255, 0.4);
    
    --gradient-1: linear-gradient(135deg, #a855f7 0%, #9333ea 100%);
    --gradient-2: linear-gradient(135deg, #d946ef 0%, #a855f7 100%);
    --gradient-3: linear-gradient(135deg, #9333ea 0%, #7e22ce 100%);
    --gradient-4: linear-gradient(135deg, #c084fc 0%, #d946ef 100%);
    --gradient-5: linear-gradient(135deg, #a855f7 0%, #c026d3 100%);
    --gradient-6: linear-gradient(135deg, #9333ea 0%, #6b21a8 100%);
}

[data-theme="red"] {
    /* Theme 5 - Bold Red */
    --primary: #f43f5e;
    --primary-light: #fb7185;
    --primary-dark: #e11d48;
    --secondary: #ff3939;
    --accent: #ec4899;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    
    --glass-bg: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(244, 63, 94, 0.15);
    --glass-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
    
    --bg-primary: #0a0a0a;
    --bg-secondary: #141414;
    
    --text-primary: #ffffff;
    --text-secondary: rgba(255, 255, 255, 0.65);
    --text-tertiary: rgba(255, 255, 255, 0.4);
    
    --gradient-1: linear-gradient(135deg, #f43f5e 0%, #e11d48 100%);
    --gradient-2: linear-gradient(135deg, #f97316 0%, #f43f5e 100%);
    --gradient-3: linear-gradient(135deg, #e11d48 0%, #be123c 100%);
    --gradient-4: linear-gradient(135deg, #fb7185 0%, #f97316 100%);
    --gradient-5: linear-gradient(135deg, #f43f5e 0%, #ec4899 100%);
    --gradient-6: linear-gradient(135deg, #e11d48 0%, #9f1239 100%);
}

[data-theme="neon"] {
    /* Theme 6 - Neon Minimal (Complete Redesign) */
    --primary: #facc15;
    --primary-light: #fde047;
    --primary-dark: #eab308;
    --secondary: #fb923c;
    --accent: #f59e0b;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    
    --glass-bg: rgba(255, 255, 255, 0.02);
    --glass-border: rgba(250, 204, 21, 0.12);
    --glass-shadow: 0 4px 20px 0 rgba(250, 204, 21, 0.08);
    
    --bg-primary: #0c0a09;
    --bg-secondary: #1c1917;
    
    --text-primary: #fafaf9;
    --text-secondary: rgba(250, 250, 249, 0.7);
    --text-tertiary: rgba(250, 250, 249, 0.45);
    
    --gradient-1: linear-gradient(135deg, #facc15 0%, #eab308 100%);
    --gradient-2: linear-gradient(135deg, #fb923c 0%, #facc15 100%);
    --gradient-3: linear-gradient(135deg, #eab308 0%, #ca8a04 100%);
    --gradient-4: linear-gradient(135deg, #fde047 0%, #fb923c 100%);
    --gradient-5: linear-gradient(135deg, #facc15 0%, #f59e0b 100%);
    --gradient-6: linear-gradient(135deg, #eab308 0%, #a16207 100%);
    
    /* Rounded, soft borders */
    --radius-sm: 16px;
    --radius-md: 20px;
    --radius-lg: 28px;
    --radius-xl: 36px;
}

/* =================================================================
   BASE STYLES
   ================================================================= */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
    position: relative;
    transition: background 0.3s ease, color 0.3s ease;
}

/* =================================================================
   ANIMATED BACKGROUND
   ================================================================= */

.background-animation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
}

.floating-shape {
    position: absolute;
    border-radius: 50%;
    opacity: 0.3;
    filter: blur(60px);
    animation: float 20s ease-in-out infinite;
}

.shape-1 {
    width: 300px;
    height: 300px;
    background: var(--gradient-1);
    top: 10%;
    left: 10%;
    animation-delay: 0s;
}

.shape-2 {
    width: 250px;
    height: 250px;
    background: var(--gradient-2);
    top: 60%;
    right: 15%;
    animation-delay: -5s;
}

.shape-3 {
    width: 350px;
    height: 350px;
    background: var(--gradient-3);
    bottom: 10%;
    left: 20%;
    animation-delay: -10s;
}

.shape-4 {
    width: 200px;
    height: 200px;
    background: var(--gradient-4);
    top: 40%;
    right: 30%;
    animation-delay: -15s;
}

.shape-5 {
    width: 280px;
    height: 280px;
    background: var(--gradient-5);
    top: 70%;
    left: 50%;
    animation-delay: -7s;
}

@keyframes float {
    0%, 100% {
        transform: translate(0, 0) rotate(0deg);
    }
    33% {
        transform: translate(30px, -30px) rotate(120deg);
    }
    66% {
        transform: translate(-20px, 20px) rotate(240deg);
    }
}

/* Gradient Orbs */
.gradient-orb {
    position: fixed;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
    z-index: 0;
    animation: pulse 8s ease-in-out infinite;
}

.orb-1 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, #6366f1 0%, transparent 70%);
    top: -10%;
    right: -10%;
}

.orb-2 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, #ec4899 0%, transparent 70%);
    bottom: -5%;
    left: -5%;
    animation-delay: -4s;
}

.orb-3 {
    width: 450px;
    height: 450px;
    background: radial-gradient(circle, #8b5cf6 0%, transparent 70%);
    top: 40%;
    left: 40%;
    animation-delay: -2s;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.4;
    }
    50% {
        transform: scale(1.1);
        opacity: 0.6;
    }
}

/* Minimal Theme - Orb Colors - Subtle and calm */
[data-theme="minimal"] .orb-1 {
    background: radial-gradient(circle, #2dd4bf 0%, transparent 70%);
    filter: blur(100px);
    opacity: 0.3;
}

[data-theme="minimal"] .orb-2 {
    background: radial-gradient(circle, #22d3ee 0%, transparent 70%);
    filter: blur(100px);
    opacity: 0.25;
}

[data-theme="minimal"] .orb-3 {
    background: radial-gradient(circle, #06b6d4 0%, transparent 70%);
    filter: blur(100px);
    opacity: 0.2;
}

[data-theme="minimal"] .floating-shape {
    opacity: 0.15;
    filter: blur(80px);
}

[data-theme="minimal"] .shape-1,
[data-theme="minimal"] .shape-2,
[data-theme="minimal"] .shape-3,
[data-theme="minimal"] .shape-4,
[data-theme="minimal"] .shape-5 {
    background: linear-gradient(135deg, #2dd4bf 0%, #06b6d4 100%);
}

/* Purple Theme (Theme 4) - Copy minimal styles with purple */
[data-theme="purple"] .orb-1 { background: radial-gradient(circle, #a855f7 0%, transparent 70%); filter: blur(100px); opacity: 0.3; }
[data-theme="purple"] .orb-2 { background: radial-gradient(circle, #d946ef 0%, transparent 70%); filter: blur(100px); opacity: 0.25; }
[data-theme="purple"] .orb-3 { background: radial-gradient(circle, #9333ea 0%, transparent 70%); filter: blur(100px); opacity: 0.2; }
[data-theme="purple"] .floating-shape { opacity: 0.15; filter: blur(80px); background: linear-gradient(135deg, #a855f7 0%, #9333ea 100%); }

[data-theme="purple"] .glass-premium { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(168, 85, 247, 0.12); }
[data-theme="purple"] .glass-premium:hover { border-color: rgba(168, 85, 247, 0.2); background: rgba(255, 255, 255, 0.03); }
[data-theme="purple"] .glass-btn { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(168, 85, 247, 0.15); }
[data-theme="purple"] .glass-btn:hover { background: rgba(168, 85, 247, 0.08); border-color: rgba(168, 85, 247, 0.25); }
[data-theme="purple"] .btn-primary { background: linear-gradient(135deg, #a855f7 0%, #9333ea 100%); color: #0a0a0a; box-shadow: 0 4px 12px rgba(168, 85, 247, 0.25); }
[data-theme="purple"] .btn-primary:hover { box-shadow: 0 6px 20px rgba(168, 85, 247, 0.35); }
[data-theme="purple"] .navbar { background: rgba(10, 10, 10, 0.7); border: 1px solid rgba(168, 85, 247, 0.15); }
[data-theme="purple"] .logo-icon { background: linear-gradient(135deg, #a855f7, #9333ea); color: #0a0a0a; }
[data-theme="purple"] .nav-link.active { background: rgba(168, 85, 247, 0.1); border: 1px solid rgba(168, 85, 247, 0.2); }
[data-theme="purple"] .nav-link:hover { background: rgba(168, 85, 247, 0.06); color: #a855f7; }
[data-theme="purple"] .dashboard-card { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(168, 85, 247, 0.1); }
[data-theme="purple"] .xp-fill, [data-theme="purple"] .progress-fill { background: linear-gradient(90deg, #a855f7, #9333ea); }
[data-theme="purple"] .level-badge, [data-theme="purple"] .stat-icon { background: linear-gradient(135deg, #a855f7, #9333ea); color: #0a0a0a; }

/* Red Theme (Theme 5) */
[data-theme="red"] .orb-1 { background: radial-gradient(circle, #f43f5e 0%, transparent 70%); filter: blur(100px); opacity: 0.3; }
[data-theme="red"] .orb-2 { background: radial-gradient(circle, #f97316 0%, transparent 70%); filter: blur(100px); opacity: 0.25; }
[data-theme="red"] .orb-3 { background: radial-gradient(circle, #e11d48 0%, transparent 70%); filter: blur(100px); opacity: 0.2; }
[data-theme="red"] .floating-shape { opacity: 0.15; filter: blur(80px); background: linear-gradient(135deg, #f43f5e 0%, #e11d48 100%); }

[data-theme="red"] .glass-premium { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(244, 63, 94, 0.12); }
[data-theme="red"] .glass-premium:hover { border-color: rgba(244, 63, 94, 0.2); background: rgba(255, 255, 255, 0.03); }
[data-theme="red"] .glass-btn { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(244, 63, 94, 0.15); }
[data-theme="red"] .glass-btn:hover { background: rgba(244, 63, 94, 0.08); border-color: rgba(244, 63, 94, 0.25); }
[data-theme="red"] .btn-primary { background: linear-gradient(135deg, #f43f5e 0%, #e11d48 100%); color: #fff; box-shadow: 0 4px 12px rgba(244, 63, 94, 0.25); }
[data-theme="red"] .btn-primary:hover { box-shadow: 0 6px 20px rgba(244, 63, 94, 0.35); }
[data-theme="red"] .navbar { background: rgba(10, 10, 10, 0.7); border: 1px solid rgba(244, 63, 94, 0.15); }
[data-theme="red"] .logo-icon { background: linear-gradient(135deg, #f43f5e, #e11d48); color: #fff; }
[data-theme="red"] .nav-link.active { background: rgba(244, 63, 94, 0.1); border: 1px solid rgba(244, 63, 94, 0.2); }
[data-theme="red"] .nav-link:hover { background: rgba(244, 63, 94, 0.06); color: #f43f5e; }
[data-theme="red"] .dashboard-card { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(244, 63, 94, 0.1); }
[data-theme="red"] .xp-fill, [data-theme="red"] .progress-fill { background: linear-gradient(90deg, #f43f5e, #e11d48); }
[data-theme="red"] .level-badge, [data-theme="red"] .stat-icon { background: linear-gradient(135deg, #f43f5e, #e11d48); color: #fff; }

/* Neon Theme (Theme 6) - Complete Redesign with Super Rounded Corners */
[data-theme="neon"] body { background: #0c0a09; }
[data-theme="neon"] .orb-1 { background: radial-gradient(circle, #facc15 0%, transparent 70%); filter: blur(100px); opacity: 0.25; }
[data-theme="neon"] .orb-2 { background: radial-gradient(circle, #fb923c 0%, transparent 70%); filter: blur(100px); opacity: 0.2; }
[data-theme="neon"] .orb-3 { background: radial-gradient(circle, #f59e0b 0%, transparent 70%); filter: blur(100px); opacity: 0.18; }
[data-theme="neon"] .floating-shape { opacity: 0.12; filter: blur(90px); background: linear-gradient(135deg, #facc15 0%, #f59e0b 100%); }

[data-theme="neon"] .glass-premium { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(250, 204, 21, 0.12); box-shadow: 0 4px 20px rgba(250, 204, 21, 0.08); }
[data-theme="neon"] .glass-premium:hover { border-color: rgba(250, 204, 21, 0.2); background: rgba(255, 255, 255, 0.03); box-shadow: 0 4px 24px rgba(250, 204, 21, 0.12); }
[data-theme="neon"] .glass-btn { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(250, 204, 21, 0.15); }
[data-theme="neon"] .glass-btn:hover { background: rgba(250, 204, 21, 0.08); border-color: rgba(250, 204, 21, 0.25); }
[data-theme="neon"] .btn-primary { background: linear-gradient(135deg, #facc15 0%, #eab308 100%); color: #0c0a09; font-weight: 800; box-shadow: 0 4px 16px rgba(250, 204, 21, 0.3); }
[data-theme="neon"] .btn-primary:hover { box-shadow: 0 6px 24px rgba(250, 204, 21, 0.4); transform: translateY(-2px); }
[data-theme="neon"] .navbar { background: rgba(12, 10, 9, 0.8); border: 1px solid rgba(250, 204, 21, 0.15); box-shadow: 0 4px 16px rgba(250, 204, 21, 0.08); }
[data-theme="neon"] .logo-icon { background: linear-gradient(135deg, #facc15, #eab308); color: #0c0a09; box-shadow: 0 4px 12px rgba(250, 204, 21, 0.3); }
[data-theme="neon"] .nav-link.active { background: rgba(250, 204, 21, 0.1); border: 1px solid rgba(250, 204, 21, 0.2); }
[data-theme="neon"] .nav-link:hover { background: rgba(250, 204, 21, 0.06); color: #facc15; }
[data-theme="neon"] .dashboard-card { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(250, 204, 21, 0.1); box-shadow: 0 2px 12px rgba(250, 204, 21, 0.05); }
[data-theme="neon"] .dashboard-card:hover { border-color: rgba(250, 204, 21, 0.2); box-shadow: 0 4px 16px rgba(250, 204, 21, 0.08); }
[data-theme="neon"] .xp-fill, [data-theme="neon"] .progress-fill { background: linear-gradient(90deg, #facc15, #eab308); }
[data-theme="neon"] .level-badge, [data-theme="neon"] .stat-icon { background: linear-gradient(135deg, #facc15, #eab308); color: #0c0a09; box-shadow: 0 4px 12px rgba(250, 204, 21, 0.25); }
[data-theme="neon"] .gradient-text-animated { background: linear-gradient(135deg, #facc15 0%, #fb923c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

/* =================================================================
   GLASSMORPHISM STYLES
   ================================================================= */

.glass-premium {
    background: var(--glass-bg);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow);
    transition: all var(--transition-normal);
}

.glass-btn {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    transition: all var(--transition-normal);
}

.glass-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
}

/* Minimal Theme Glass Effects - Clean and subtle */
[data-theme="minimal"] .glass-premium {
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(45, 212, 191, 0.12);
    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
}

[data-theme="minimal"] .glass-premium:hover {
    border-color: rgba(45, 212, 191, 0.2);
    background: rgba(255, 255, 255, 0.03);
}

[data-theme="minimal"] .glass-btn {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(45, 212, 191, 0.15);
}

[data-theme="minimal"] .glass-btn:hover {
    background: rgba(45, 212, 191, 0.08);
    border-color: rgba(45, 212, 191, 0.25);
    transform: translateY(-2px);
}

/* Minimal Theme Text - Clean without excessive glow */
[data-theme="minimal"] .glow-text {
    text-shadow: none;
}

[data-theme="minimal"] .gradient-text-animated {
    background: linear-gradient(135deg, #2dd4bf 0%, #22d3ee 100%);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientShift 3s ease infinite;
}

/* =================================================================
   NAVIGATION BAR
   ================================================================= */

.navbar {
    position: fixed;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    width: calc(100% - 40px);
    max-width: 1400px;
    z-index: 1000;
    border-radius: var(--radius-md);
    padding: 0.75rem 1.5rem;
    animation: slideDown 0.8s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

.nav-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.nav-brand {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-size: 1.3rem;
    font-weight: 800;
    cursor: pointer;
}

.logo-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-1);
    border-radius: var(--radius-sm);
    font-size: 1.3rem;
    animation: rotate3d 10s linear infinite;
}

@keyframes rotate3d {
    0% { transform: rotateY(0deg); }
    100% { transform: rotateY(360deg); }
}

.glow-text {
    position: relative;
    text-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
}

/* Minimal Theme Navbar - Clean and professional */
[data-theme="minimal"] .navbar {
    background: rgba(10, 10, 10, 0.7);
    border: 1px solid rgba(45, 212, 191, 0.15);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

[data-theme="minimal"] .logo-icon {
    background: linear-gradient(135deg, #2dd4bf, #14b8a6);
    color: #0a0a0a;
    box-shadow: 0 4px 12px rgba(45, 212, 191, 0.3);
}

[data-theme="minimal"] .nav-brand {
    text-shadow: none;
}

[data-theme="minimal"] .nav-link.active {
    background: rgba(45, 212, 191, 0.1);
    border: 1px solid rgba(45, 212, 191, 0.2);
}

[data-theme="minimal"] .nav-link:hover {
    background: rgba(45, 212, 191, 0.06);
    color: #2dd4bf;
}

[data-theme="minimal"] .notification-badge {
    background: linear-gradient(135deg, #2dd4bf, #14b8a6);
    color: #0a0a0a;
}

.nav-menu {
    display: flex;
    gap: var(--spacing-xs);
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.6rem 1rem;
    text-decoration: none;
    color: var(--text-secondary);
    border-radius: var(--radius-sm);
    font-weight: 600;
    font-size: 0.95rem;
    transition: all var(--transition-normal);
    position: relative;
    overflow: hidden;
    white-space: nowrap;
}

.nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-1);
    opacity: 0;
    transition: opacity var(--transition-normal);
    z-index: -1;
}

.nav-link:hover, .nav-link.active {
    color: var(--text-primary);
    transform: translateY(-2px);
}

.nav-link:hover::before, .nav-link.active::before {
    opacity: 0.2;
}

.nav-actions {
    display: flex;
    gap: var(--spacing-sm);
}

.theme-toggle, .notification-btn {
    width: 40px;
    height: 40px;
    border: none;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    color: var(--text-primary);
    cursor: pointer;
    position: relative;
}

.theme-toggle:hover {
    animation: wiggle 0.5s ease;
}

@keyframes wiggle {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-15deg); }
    75% { transform: rotate(15deg); }
}

.notification-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 20px;
    height: 20px;
    background: var(--danger);
    border-radius: 50%;
    font-size: 0.7rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    animation: bounce 2s ease infinite;
}

@keyframes bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

/* =================================================================
   HERO SECTION
   ================================================================= */

.hero-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    padding: calc(80px + var(--spacing-xl)) var(--spacing-lg) var(--spacing-xl);
    position: relative;
    z-index: 1;
}

.hero-container {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-2xl);
    align-items: center;
}

.hero-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: 50px;
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: var(--spacing-lg);
}

.hero-title {
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    font-weight: 900;
    line-height: 1.1;
    margin-bottom: var(--spacing-md);
    letter-spacing: -0.02em;
}

.gradient-text-animated {
    background: var(--gradient-1);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientShift 3s ease infinite;
}

@keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

.hero-description {
    font-size: 1.25rem;
    color: var(--text-secondary);
    margin-bottom: var(--spacing-xl);
    max-width: 600px;
}

.hero-cta {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-2xl);
}

.btn-primary, .btn-secondary {
    padding: var(--spacing-md) var(--spacing-xl);
    border: none;
    border-radius: var(--radius-md);
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    transition: all var(--transition-normal);
}

.btn-primary {
    background: var(--gradient-1);
    color: white;
    position: relative;
    overflow: hidden;
}

.btn-primary::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.btn-primary:hover::before {
    width: 300px;
    height: 300px;
}

.btn-primary:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.4);
}

.btn-secondary {
    color: var(--text-primary);
}

/* Minimal Theme Buttons - Clean and professional */
[data-theme="minimal"] .btn-primary {
    background: linear-gradient(135deg, #2dd4bf 0%, #14b8a6 100%);
    color: #0a0a0a;
    font-weight: 700;
    box-shadow: 0 4px 12px rgba(45, 212, 191, 0.25);
    border: none;
}

[data-theme="minimal"] .btn-primary:hover {
    box-shadow: 0 6px 20px rgba(45, 212, 191, 0.35);
    transform: translateY(-2px);
}

[data-theme="minimal"] .btn-secondary {
    background: transparent;
    border: 1.5px solid rgba(45, 212, 191, 0.3);
    color: var(--text-primary);
}

[data-theme="minimal"] .btn-secondary:hover {
    background: rgba(45, 212, 191, 0.08);
    border-color: rgba(45, 212, 191, 0.5);
}

.glow-on-hover {
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
}

.hero-stats {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-md);
}

.stat-item {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    transition: all var(--transition-normal);
}

.stat-item:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.stat-icon {
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-1);
    border-radius: var(--radius-sm);
    font-size: 1.5rem;
}

.stat-content {
    flex: 1;
}

.stat-value {
    font-size: 2rem;
    font-weight: 800;
    line-height: 1;
    margin-bottom: 0.25rem;
}

.stat-label {
    font-size: 0.85rem;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Hero Visual */
.hero-visual {
    position: relative;
    height: 600px;
}

.floating-card {
    position: absolute;
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    transition: all var(--transition-slow);
    animation: floatCard 6s ease-in-out infinite;
}

.card-1 {
    top: 10%;
    left: 0;
    width: 280px;
    animation-delay: 0s;
}

.card-2 {
    top: 40%;
    right: 0;
    width: 300px;
    animation-delay: -2s;
}

.card-3 {
    bottom: 10%;
    left: 10%;
    width: 260px;
    animation-delay: -4s;
}

@keyframes floatCard {
    0%, 100% {
        transform: translateY(0px) rotate(0deg);
    }
    50% {
        transform: translateY(-20px) rotate(2deg);
    }
}

.floating-card:hover {
    transform: scale(1.05) translateY(-10px) !important;
}

.card-icon {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    font-size: 1.8rem;
    margin-bottom: var(--spacing-sm);
}

.gradient-bg-1 { background: var(--gradient-1); }
.gradient-bg-2 { background: var(--gradient-2); }
.gradient-bg-3 { background: var(--gradient-3); }
.gradient-bg-4 { background: var(--gradient-4); }
.gradient-bg-5 { background: var(--gradient-5); }
.gradient-bg-6 { background: var(--gradient-6); }

.card-content h4 {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}

.card-content p {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.card-progress {
    margin-top: var(--spacing-md);
}

.progress-bar {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: var(--gradient-1);
    border-radius: 10px;
    animation: fillProgress 2s ease;
}

@keyframes fillProgress {
    from { width: 0; }
}

.mini-chart {
    display: flex;
    align-items: flex-end;
    gap: 8px;
    height: 60px;
    margin-top: var(--spacing-md);
}

.chart-bar {
    flex: 1;
    background: var(--gradient-2);
    border-radius: 4px;
    animation: growBar 1s ease;
}

@keyframes growBar {
    from { height: 0; }
}

.user-avatars {
    display: flex;
    margin-top: var(--spacing-md);
}

.avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--gradient-3);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: -10px;
    border: 2px solid var(--bg-primary);
    font-size: 1rem;
    transition: all var(--transition-normal);
}

.avatar:hover {
    transform: translateY(-4px) scale(1.1);
    z-index: 10;
}

.avatar.plus {
    background: rgba(255, 255, 255, 0.1);
    font-size: 0.8rem;
    font-weight: 700;
}

.rotating-circle {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 400px;
    height: 400px;
    border: 2px dashed var(--glass-border);
    border-radius: 50%;
    animation: rotate 20s linear infinite;
    z-index: -1;
}

@keyframes rotate {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to { transform: translate(-50%, -50%) rotate(360deg); }
}

/* =================================================================
   ANIMATIONS
   ================================================================= */

.fade-in {
    animation: fadeIn 0.8s ease;
}

.slide-up {
    animation: slideUp 0.8s ease;
    animation-fill-mode: both;
}

.delay-1 { animation-delay: 0.2s; }
.delay-2 { animation-delay: 0.4s; }
.delay-3 { animation-delay: 0.6s; }

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* =================================================================
   SECTIONS
   ================================================================= */

.features-section, .tools-section, .leaderboard-section {
    padding: var(--spacing-2xl) var(--spacing-lg);
    position: relative;
    z-index: 1;
}

.section-header {
    text-align: center;
    margin-bottom: var(--spacing-2xl);
}

.section-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: 50px;
    font-size: 0.9rem;
    font-weight: 700;
    margin-bottom: var(--spacing-md);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.section-title {
    font-size: clamp(2rem, 4vw, 3.5rem);
    font-weight: 900;
    margin-bottom: var(--spacing-md);
}

.section-description {
    font-size: 1.2rem;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
}

/* Features Grid */
.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: var(--spacing-lg);
    max-width: 1400px;
    margin: 0 auto;
}

.feature-card {
    padding: var(--spacing-xl);
    border-radius: var(--radius-lg);
    transition: all var(--transition-normal);
    position: relative;
    overflow: hidden;
}

.hover-lift:hover {
    transform: translateY(-12px);
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
}

.feature-icon-wrapper {
    position: relative;
    width: 80px;
    height: 80px;
    margin-bottom: var(--spacing-md);
}

.feature-icon {
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    font-size: 2rem;
    position: relative;
    z-index: 2;
}

.icon-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100px;
    height: 100px;
    border-radius: 50%;
    filter: blur(20px);
    opacity: 0.6;
    z-index: 1;
}

.glow-1 { background: var(--gradient-1); }
.glow-2 { background: var(--gradient-2); }
.glow-3 { background: var(--gradient-3); }
.glow-4 { background: var(--gradient-4); }
.glow-5 { background: var(--gradient-5); }
.glow-6 { background: var(--gradient-6); }

.feature-card h3 {
    font-size: 1.5rem;
    margin-bottom: var(--spacing-sm);
}

.feature-card p {
    color: var(--text-secondary);
    line-height: 1.8;
    margin-bottom: var(--spacing-md);
}

.feature-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50px;
    font-size: 0.85rem;
    font-weight: 600;
}

/* Tools Showcase */
.tools-showcase {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: var(--spacing-lg);
    max-width: 1200px;
    margin: 0 auto;
}

.tool-display {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    transition: all var(--transition-normal);
}

.tool-display:hover {
    transform: translateY(-8px);
}

.tool-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-md);
}

.tool-header h3 {
    font-size: 1.3rem;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.tool-action {
    width: 40px;
    height: 40px;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--text-primary);
}

.converter-display {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.input-display {
    flex: 1;
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    text-align: center;
}

.input-label {
    font-size: 0.8rem;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.5rem;
}

.input-value {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
}

.input-unit {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.converter-arrow {
    font-size: 1.5rem;
    color: var(--primary);
    animation: arrowBounce 2s ease infinite;
}

@keyframes arrowBounce {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(5px); }
}

.periodic-preview {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-sm);
}

.element-tile {
    padding: var(--spacing-md);
    border-radius: var(--radius-sm);
    text-align: center;
    border-left: 4px solid var(--color);
    transition: all var(--transition-normal);
    cursor: pointer;
}

.element-tile:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.element-number {
    font-size: 0.7rem;
    opacity: 0.7;
}

.element-symbol {
    font-size: 1.8rem;
    font-weight: 800;
    margin: 0.25rem 0;
}

.element-name {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

/* Leaderboard */
.leaderboard-container {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.leaderboard-item {
    padding: var(--spacing-lg);
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.03);
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    transition: all var(--transition-normal);
}

.leaderboard-item:hover {
    transform: translateX(8px);
    background: rgba(255, 255, 255, 0.05);
}

.leaderboard-item.current-user {
    background: rgba(99, 102, 241, 0.1);
    border: 2px solid var(--primary);
}

.rank-badge {
    width: 50px;
    height: 50px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    background: rgba(255, 255, 255, 0.1);
    font-weight: 800;
    font-size: 1.5rem;
}

.rank-badge.gold {
    background: linear-gradient(135deg, #ffd700, #ffed4e);
    color: #000;
    position: relative;
}

.rank-badge.gold i {
    position: absolute;
    top: -10px;
    font-size: 1rem;
    animation: bounce 2s ease infinite;
}

.rank-badge.silver {
    background: linear-gradient(135deg, #c0c0c0, #e8e8e8);
    color: #000;
}

.rank-badge.bronze {
    background: linear-gradient(135deg, #cd7f32, #e8a87c);
    color: #000;
}

/* Cyber Theme Rank Badges */
[data-theme="cyber"] .rank-badge.gold {
    background: linear-gradient(135deg, #00fff5, #00ffcc);
    color: #000508;
    box-shadow: 0 0 30px rgba(0, 255, 245, 0.8), 0 0 60px rgba(0, 255, 245, 0.4);
    border: 2px solid rgba(0, 255, 245, 0.8);
}

[data-theme="cyber"] .rank-badge.silver {
    background: linear-gradient(135deg, #0ff0fc, #00fff5);
    color: #000508;
    box-shadow: 0 0 20px rgba(15, 240, 252, 0.6);
    border: 2px solid rgba(15, 240, 252, 0.6);
}

[data-theme="cyber"] .rank-badge.bronze {
    background: linear-gradient(135deg, #00ffcc, #00ff88);
    color: #000508;
    box-shadow: 0 0 20px rgba(0, 255, 204, 0.6);
    border: 2px solid rgba(0, 255, 204, 0.6);
}

[data-theme="cyber"] .leaderboard-item {
    background: rgba(0, 255, 245, 0.02);
    border: 1px solid rgba(0, 255, 245, 0.1);
}

[data-theme="cyber"] .leaderboard-item:hover {
    background: rgba(0, 255, 245, 0.05);
    border-color: rgba(0, 255, 245, 0.2);
    box-shadow: 0 0 20px rgba(0, 255, 245, 0.1);
}

[data-theme="cyber"] .leaderboard-item.current-user {
    background: rgba(0, 255, 245, 0.08);
    border: 2px solid rgba(0, 255, 245, 0.5);
    box-shadow: 0 0 30px rgba(0, 255, 245, 0.2);
}

.user-info {
    flex: 1;
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.user-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--gradient-1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
}

.user-details {
    flex: 1;
}

.user-name {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
}

.user-stats {
    display: flex;
    gap: var(--spacing-md);
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.rank-score {
    text-align: right;
}

.score-value {
    font-size: 1.8rem;
    font-weight: 800;
}

.score-trend {
    font-size: 0.9rem;
    font-weight: 600;
}

.score-trend.up {
    color: var(--success);
}

/* Footer */
.footer {
    padding: var(--spacing-xl);
    border-radius: var(--radius-lg);
    margin: var(--spacing-xl) var(--spacing-lg);
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    text-align: center;
}

.footer-brand {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-size: 1.5rem;
    font-weight: 800;
    margin-bottom: var(--spacing-sm);
}

.footer-tagline {
    color: var(--text-secondary);
    margin-bottom: var(--spacing-lg);
}

.footer-social {
    display: flex;
    gap: var(--spacing-sm);
    justify-content: center;
}

.social-link {
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    text-decoration: none;
    transition: all var(--transition-normal);
}

.social-link:hover {
    transform: translateY(-4px) rotate(5deg);
}

/* Floating Action Button */
.fab {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: none;
    background: var(--gradient-1);
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: 0 8px 24px rgba(99, 102, 241, 0.4);
    transition: all var(--transition-normal);
    z-index: 999;
}

.fab:hover {
    transform: scale(1.1) rotate(90deg);
    box-shadow: 0 12px 36px rgba(99, 102, 241, 0.6);
}

/* =================================================================
   RESPONSIVE DESIGN
   ================================================================= */

@media (max-width: 1200px) {
    .hero-container {
        grid-template-columns: 1fr;
        text-align: center;
    }
    
    .hero-visual {
        display: none;
    }
    
    .hero-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .hero-description, .hero-cta {
        margin-left: auto;
        margin-right: auto;
    }
}

@media (max-width: 768px) {
    .nav-menu {
        display: none;
    }
    
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-stats {
        grid-template-columns: 1fr;
    }
    
    .hero-cta {
        flex-direction: column;
    }
    
    .features-grid, .tools-showcase {
        grid-template-columns: 1fr;
    }
    
    .stat-item {
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .navbar {
        padding: var(--spacing-sm);
    }
    
    .hero-section {
        padding: calc(80px + var(--spacing-md)) var(--spacing-sm) var(--spacing-md);
    }
    
    .section-title {
        font-size: 2rem;
    }
    
    .leaderboard-item {
        flex-wrap: wrap;
    }
}

/* =================================================================
   COUNTER ANIMATION
   ================================================================= */

.counter {
    display: inline-block;
}

/* =================================================================
   WEB APP PAGES LAYOUT
   ================================================================= */

.app-container {
    position: relative;
    z-index: 1;
    padding: calc(70px + var(--spacing-lg)) var(--spacing-lg) var(--spacing-lg);
    max-width: 1600px;
    margin: 0 auto;
    min-height: 100vh;
}

.page {
    display: none;
    animation: pageEnter 0.4s ease;
}

.page.active {
    display: block;
}

@keyframes pageEnter {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.page-header {
    margin-bottom: var(--spacing-xl);
}

.page-title {
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 900;
    margin-bottom: var(--spacing-sm);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.page-subtitle {
    font-size: 1.1rem;
    color: var(--text-secondary);
}

/* =================================================================
   DASHBOARD PAGE
   ================================================================= */

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
}

.dashboard-card {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.dashboard-card.large {
    grid-column: span 2;
}

/* Minimal Theme Dashboard Cards - Clean design */
[data-theme="minimal"] .dashboard-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(45, 212, 191, 0.1);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

[data-theme="minimal"] .dashboard-card::before {
    display: none;
}

[data-theme="minimal"] .dashboard-card:hover {
    border-color: rgba(45, 212, 191, 0.2);
    background: rgba(255, 255, 255, 0.03);
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-md);
}

.card-header h3 {
    font-size: 1.2rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.badge {
    padding: 0.25rem 0.75rem;
    border-radius: 50px;
    font-size: 0.75rem;
    font-weight: 700;
    color: white;
}

.btn-icon {
    width: 36px;
    height: 36px;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--text-primary);
}

/* Score Circle */
.score-circle {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: var(--spacing-lg) 0;
}

.circle-progress {
    width: 180px;
    height: 180px;
    position: relative;
}

.circle-progress svg {
    transform: rotate(-90deg);
}

.circle-bg {
    fill: none;
    stroke: rgba(255, 255, 255, 0.1);
    stroke-width: 8;
}

.circle-fill {
    fill: none;
    stroke: url(#gradient1);
    stroke-width: 8;
    stroke-linecap: round;
    stroke-dasharray: 283;
    stroke-dashoffset: calc(283 - (283 * var(--progress)) / 100);
    animation: progressAnim 2s ease;
}

@keyframes progressAnim {
    from { stroke-dashoffset: 283; }
}

.circle-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.score-value {
    font-size: 3rem;
    font-weight: 900;
    display: block;
}

.score-label {
    font-size: 1.5rem;
    color: var(--text-secondary);
}

.card-desc {
    text-align: center;
    color: var(--text-secondary);
    margin-top: var(--spacing-md);
}

/* Level Display */
.level-display {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.level-badge {
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    flex-shrink: 0;
}

.level-number {
    font-size: 2.5rem;
    font-weight: 900;
    color: white;
}

.level-info {
    flex: 1;
}

.level-info h4 {
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
}

.xp-bar {
    height: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.xp-fill {
    height: 100%;
    background: var(--gradient-1);
    border-radius: 10px;
    animation: fillProgress 2s ease;
}

/* Minimal Theme Progress Bars - Clean and simple */
[data-theme="minimal"] .xp-bar,
[data-theme="minimal"] .progress-bar {
    background: rgba(45, 212, 191, 0.08);
    border: none;
}

[data-theme="minimal"] .xp-fill,
[data-theme="minimal"] .progress-fill {
    background: linear-gradient(90deg, #2dd4bf, #14b8a6);
    box-shadow: none;
}

[data-theme="minimal"] .level-badge,
[data-theme="minimal"] .stat-icon,
[data-theme="minimal"] .feature-icon,
[data-theme="minimal"] .card-icon {
    background: linear-gradient(135deg, #2dd4bf 0%, #14b8a6 100%);
    box-shadow: 0 4px 12px rgba(45, 212, 191, 0.25);
    border: none;
    color: #0a0a0a;
}

[data-theme="minimal"] .badge {
    background: linear-gradient(135deg, #2dd4bf 0%, #14b8a6 100%);
    color: #0a0a0a;
    box-shadow: none;
    border: none;
}

[data-theme="minimal"] .rank-number {
    text-shadow: none;
}

.xp-text {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

/* Rank Display */
.rank-display {
    text-align: center;
    padding: var(--spacing-lg) 0;
}

.rank-number {
    font-size: 4rem;
    font-weight: 900;
    display: block;
    margin-bottom: 0.5rem;
}

.rank-change {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    color: var(--success);
    font-size: 0.9rem;
    margin-top: var(--spacing-sm);
}

/* Streak Display */
.streak-display {
    text-align: center;
}

.streak-number {
    font-size: 3rem;
    font-weight: 900;
    margin-bottom: var(--spacing-md);
}

.streak-label {
    font-size: 1rem;
    color: var(--text-secondary);
    display: block;
}

.streak-calendar {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    margin-top: var(--spacing-md);
}

.day {
    width: 32px;
    height: 32px;
    border-radius: var(--radius-sm);
    background: rgba(255, 255, 255, 0.1);
}

.day.completed {
    background: var(--gradient-1);
}

.day.current {
    background: var(--gradient-2);
    animation: pulse 2s ease infinite;
}

/* Progress List */
.progress-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.progress-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-md);
}

.progress-item input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.progress-content {
    flex: 1;
}

.progress-content h4 {
    font-size: 1rem;
    margin-bottom: 0.5rem;
}

.progress-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 50px;
    font-size: 0.8rem;
    font-weight: 600;
    background: rgba(255, 255, 255, 0.1);
}

.progress-badge.completed {
    background: var(--success);
    color: white;
}

.progress-badge.ongoing {
    background: var(--warning);
    color: white;
}

/* Schedule List */
.schedule-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.schedule-item {
    display: flex;
    gap: var(--spacing-md);
    align-items: center;
    position: relative;
    transition: all 0.3s ease;
}

.schedule-item.completed {
    opacity: 0.5;
}

.schedule-item.completed .schedule-content h4,
.schedule-item.completed .schedule-content p {
    text-decoration: line-through;
}

.schedule-checkbox {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: var(--success);
    flex-shrink: 0;
}

.time-badge {
    padding: 0.5rem 1rem;
    border-radius: var(--radius-sm);
    font-size: 0.85rem;
    font-weight: 700;
    color: white;
    flex-shrink: 0;
}

.schedule-content {
    flex: 1;
}

.schedule-content h4 {
    font-size: 1rem;
    margin-bottom: 0.25rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.schedule-content p {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 0.2rem;
}

.session-duration {
    font-size: 0.8rem;
    color: var(--text-tertiary);
    font-style: italic;
}

.empty-schedule {
    text-align: center;
    padding: 3rem 2rem;
    color: var(--text-tertiary);
}

.empty-schedule i {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
}

.empty-schedule p {
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
}

.btn-primary.small {
    padding: 0.75rem 1.5rem;
    font-size: 0.95rem;
}

.schedule-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

/* Quick Actions Grid */
.quick-actions-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-sm);
}

.action-btn {
    padding: var(--spacing-md);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    border: none;
    cursor: pointer;
    color: var(--text-primary);
    font-weight: 600;
    transition: all var(--transition-normal);
}

.action-btn:hover {
    transform: translateY(-4px);
}

.action-btn i {
    font-size: 1.5rem;
}

/* =================================================================
   DOUBT SOLVER PAGE
   ================================================================= */

.solver-layout {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: var(--spacing-lg);
}

.solver-main {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.input-tabs {
    display: flex;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-lg);
}

.tab-btn {
    flex: 1;
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
}

.tab-btn.active {
    background: var(--gradient-1);
    color: white;
    border-color: transparent;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.subject-select, .doubt-textarea, .tool-input, .tool-select {
    width: 100%;
    padding: var(--spacing-md);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
    font-family: inherit;
    font-size: 1rem;
    margin-bottom: var(--spacing-md);
}

/* Minimal Theme Inputs - Clean and simple */
[data-theme="minimal"] .doubt-textarea,
[data-theme="minimal"] .tool-input,
[data-theme="minimal"] .tool-select,
[data-theme="minimal"] .tool-input-small,
[data-theme="minimal"] .filter-select {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(45, 212, 191, 0.15);
    color: var(--text-primary);
}

[data-theme="minimal"] .doubt-textarea:focus,
[data-theme="minimal"] .tool-input:focus,
[data-theme="minimal"] .tool-select:focus {
    outline: none;
    border-color: rgba(45, 212, 191, 0.3);
    background: rgba(255, 255, 255, 0.03);
}

[data-theme="minimal"] ::placeholder {
    color: rgba(255, 255, 255, 0.3);
}

.doubt-textarea {
    resize: vertical;
    min-height: 150px;
}

.solution-display {
    margin-top: var(--spacing-lg);
    padding: var(--spacing-xl);
    border-radius: var(--radius-md);
    min-height: 300px;
}

.empty-state {
    text-align: center;
    color: var(--text-tertiary);
    padding: var(--spacing-xl);
}

.empty-state i {
    font-size: 3rem;
    margin-bottom: var(--spacing-md);
    opacity: 0.5;
}

.empty-state h3 {
    margin-bottom: 0.5rem;
}

/* Sidebar */
.solver-sidebar {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.history-card, .stats-card {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.history-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.history-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.history-item:hover {
    background: rgba(255, 255, 255, 0.08);
}

.history-content h4 {
    font-size: 0.95rem;
    margin-bottom: 0.25rem;
}

.history-content p {
    font-size: 0.8rem;
    color: var(--text-tertiary);
}

.stat-item {
    display: flex;
    justify-content: space-between;
    padding: var(--spacing-sm) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.stat-item:last-child {
    border-bottom: none;
}

/* Improved Doubt Input */
.doubt-input-container {
    position: relative;
}

.doubt-textarea {
    width: 100%;
    padding: 1rem;
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
    font-family: inherit;
    font-size: 1rem;
    resize: vertical;
    min-height: 120px;
    margin-bottom: var(--spacing-md);
}

.input-actions {
    display: flex;
    gap: var(--spacing-sm);
    align-items: center;
}

.input-action-btn {
    width: 45px;
    height: 45px;
    border: none;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    color: var(--text-primary);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.input-action-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: scale(1.05);
}

.solve-btn {
    margin-left: auto;
}

/* =================================================================
   TOOLS PAGE
   ================================================================= */

.tools-grid-page {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: var(--spacing-lg);
}

.tool-card-full, .tool-card-wide {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.tool-card-wide {
    grid-column: span 2;
}

.tool-body {
    margin-top: var(--spacing-md);
}

.converter-inputs {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    margin: var(--spacing-md) 0;
}

.input-group {
    flex: 1;
    display: flex;
    gap: var(--spacing-sm);
}

.converter-icon {
    font-size: 1.5rem;
    color: var(--primary);
}

.unit-select {
    max-width: 150px;
}

.log-inputs {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
}

.result-display {
    padding: var(--spacing-lg);
    border-radius: var(--radius-md);
    text-align: center;
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Test Config */
.test-config {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.test-options {
    display: flex;
    gap: var(--spacing-md);
    align-items: center;
}

.tool-input-small {
    width: 120px;
    padding: var(--spacing-sm);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
    font-family: inherit;
}

/* Periodic Grid */
.periodic-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: var(--spacing-sm);
}

.element-card {
    padding: var(--spacing-md);
    border-radius: var(--radius-sm);
    text-align: center;
    border-left: 4px solid var(--color);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.element-card:hover {
    transform: translateY(-4px);
}

.element-num {
    font-size: 0.7rem;
    opacity: 0.7;
}

.element-symbol {
    font-size: 2rem;
    font-weight: 900;
    margin: 0.25rem 0;
}

.element-name {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.mindmap-canvas {
    min-height: 400px;
    margin-top: var(--spacing-md);
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Full Periodic Table */
.periodic-table-full {
    display: grid;
    grid-template-columns: repeat(18, 1fr);
    grid-template-rows: repeat(7, auto);
    gap: 6px;
    padding: var(--spacing-md);
    margin: var(--spacing-md) 0;
}

.element {
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid var(--element-color);
    border-radius: var(--radius-sm);
    padding: 0.5rem;
    text-align: center;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    flex-direction: column;
    min-height: 70px;
}

.element:hover {
    transform: scale(1.1);
    background: var(--element-color);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    z-index: 10;
}

.atomic-number {
    font-size: 0.65rem;
    opacity: 0.7;
    margin-bottom: 0.2rem;
}

.element-symbol {
    font-size: 1.4rem;
    font-weight: 900;
    margin: 0.15rem 0;
}

.element-name {
    font-size: 0.65rem;
    color: var(--text-secondary);
}

.periodic-legend {
    display: flex;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    flex-wrap: wrap;
    justify-content: center;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
}

.legend-color {
    width: 20px;
    height: 20px;
    border-radius: 4px;
}

/* =================================================================
   STUDY MATERIAL PAGE
   ================================================================= */

.material-layout {
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: var(--spacing-lg);
}

.material-filters {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    height: fit-content;
    position: sticky;
    top: 120px;
}

.filter-group {
    margin-bottom: var(--spacing-lg);
}

.filter-group label {
    display: block;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.filter-select {
    width: 100%;
    padding: var(--spacing-sm);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
}

.checkbox-filters {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.checkbox-filters label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 400;
    cursor: pointer;
}

.material-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--spacing-lg);
}

.material-card {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
}

.material-icon {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    font-size: 1.8rem;
    margin-bottom: var(--spacing-md);
    color: white;
}

.material-card h3 {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}

.material-card p {
    color: var(--text-secondary);
    margin-bottom: var(--spacing-md);
    flex-grow: 1;
}

.material-meta {
    display: flex;
    gap: var(--spacing-md);
    font-size: 0.85rem;
    color: var(--text-tertiary);
    margin-bottom: var(--spacing-md);
}

/* =================================================================
   SOCIAL PAGE
   ================================================================= */

.social-layout {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: var(--spacing-lg);
}

.leaderboard-section {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.leaderboard-tabs {
    display: flex;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-lg);
}

.leaderboard-tabs .tab-btn {
    flex: 1;
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: none;
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
}

.leaderboard-tabs .tab-btn.active {
    background: var(--gradient-1);
    color: white;
}

.leaderboard-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.leaderboard-item.rank-1,
.leaderboard-item.rank-2,
.leaderboard-item.rank-3 {
    border: 2px solid;
}

.leaderboard-item.rank-1 {
    border-color: #ffd700;
}

.leaderboard-item.rank-2 {
    border-color: #c0c0c0;
}

.leaderboard-item.rank-3 {
    border-color: #cd7f32;
}

.score-badge {
    padding: 0.5rem 1rem;
    background: var(--gradient-1);
    border-radius: 50px;
    font-weight: 700;
    color: white;
}

.social-sidebar {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.groups-card, .friends-card, .messages-card {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.groups-list, .friends-list, .message-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.group-item, .friend-item, .message-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.group-item:hover, .friend-item:hover, .message-item:hover {
    background: rgba(255, 255, 255, 0.08);
}

.group-icon, .friend-avatar, .message-avatar {
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    font-size: 1.2rem;
    color: white;
    flex-shrink: 0;
}

.friend-avatar, .message-avatar {
    border-radius: 50%;
    font-weight: 700;
}

.group-info, .friend-info, .message-content {
    flex: 1;
}

.group-info h4, .friend-info h4, .message-content h4 {
    font-size: 1rem;
    margin-bottom: 0.25rem;
}

.group-info p, .friend-info p, .message-content p {
    font-size: 0.85rem;
    color: var(--text-tertiary);
}

.online-status {
    color: var(--success);
}

.offline-status {
    color: var(--text-tertiary);
}

.message-item.unread {
    background: rgba(99, 102, 241, 0.1);
    border-left: 3px solid var(--primary);
}

.message-badge {
    width: 24px;
    height: 24px;
    background: var(--primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 700;
}

/* =================================================================
   PROFILE PAGE
   ================================================================= */

.profile-layout {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: var(--spacing-lg);
}

.profile-main {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.profile-card-main {
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.profile-banner {
    height: 120px;
}

.profile-info {
    padding: 0 var(--spacing-lg) var(--spacing-lg);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.profile-avatar-large {
    width: 120px;
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 3rem;
    color: white;
    margin-top: -60px;
    margin-bottom: var(--spacing-md);
    border: 5px solid var(--bg-primary);
}

.profile-details h2 {
    font-size: 2rem;
    margin-bottom: 0.25rem;
}

.profile-title {
    color: var(--text-secondary);
    margin-bottom: var(--spacing-lg);
}

.profile-stats-row {
    display: flex;
    gap: var(--spacing-xl);
    margin-bottom: var(--spacing-lg);
}

.profile-stats-row .stat {
    display: flex;
    flex-direction: column;
}

.profile-stats-row .stat strong {
    font-size: 2rem;
    font-weight: 900;
}

.profile-stats-row .stat span {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.achievements-card {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.achievements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-md);
}

.achievement-item {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.03);
    text-align: center;
    transition: all var(--transition-normal);
}

.achievement-item.unlocked {
    background: rgba(255, 255, 255, 0.08);
}

.achievement-item.locked {
    opacity: 0.5;
}

.achievement-item:hover {
    transform: translateY(-4px);
}

.achievement-icon {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    font-size: 1.8rem;
    margin: 0 auto var(--spacing-sm);
    color: white;
}

.achievement-item.locked .achievement-icon {
    background: rgba(255, 255, 255, 0.1);
}

.achievement-item h4 {
    font-size: 0.95rem;
    margin-bottom: 0.25rem;
}

.achievement-item p {
    font-size: 0.8rem;
    color: var(--text-tertiary);
}

.reminders-card {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.reminder-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
    margin: var(--spacing-md) 0;
}

.reminder-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.reminder-item input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.profile-sidebar {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.progress-card, .settings-card {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
}

.progress-chart {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: var(--spacing-sm);
    height: 200px;
    margin-top: var(--spacing-md);
}

.progress-chart .chart-bar {
    flex: 1;
    background: var(--gradient-1);
    border-radius: var(--radius-sm) var(--radius-sm) 0 0;
    position: relative;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding-bottom: 0.5rem;
    transition: all var(--transition-normal);
}

.progress-chart .chart-bar:hover {
    filter: brightness(1.2);
}

.progress-chart .chart-bar span {
    font-size: 0.8rem;
    font-weight: 600;
}

.settings-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
    margin-top: var(--spacing-md);
}

.setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md) 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.setting-item:last-child {
    border-bottom: none;
}

.setting-label {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 600;
}

/* Toggle Switch */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 26px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(255, 255, 255, 0.1);
    transition: .4s;
    border-radius: 34px;
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

.toggle-switch input:checked + .toggle-slider {
    background: var(--gradient-1);
}

.toggle-switch input:checked + .toggle-slider:before {
    transform: translateX(24px);
}

/* =================================================================
   RESPONSIVE - WEB APP
   ================================================================= */

@media (max-width: 1400px) {
    .solver-layout, .social-layout, .profile-layout {
        grid-template-columns: 1fr;
    }
    
    .material-layout {
        grid-template-columns: 200px 1fr;
    }
    
    .tool-card-wide {
        grid-column: span 1;
    }
}

@media (max-width: 992px) {
    .dashboard-card.large {
        grid-column: span 1;
    }
    
    .material-layout {
        grid-template-columns: 1fr;
    }
    
    .material-filters {
        position: static;
    }
    
    .tools-grid-page {
        grid-template-columns: 1fr;
    }
}

/* =================================================================
   AI DOUBT SOLVER - ENHANCED STYLES
   ================================================================= */

/* Image Preview */
.image-preview {
    position: relative;
    margin-bottom: 1rem;
    border-radius: var(--radius-md);
    overflow: hidden;
    max-width: 300px;
}

.image-preview img {
    width: 100%;
    height: auto;
    display: block;
}

.remove-image-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(239, 68, 68, 0.9);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.remove-image-btn:hover {
    background: #ef4444;
    transform: scale(1.1);
}

/* Recording Animation */
.recording {
    animation: pulse-recording 1.5s ease-in-out infinite;
    background: rgba(239, 68, 68, 0.2) !important;
    color: #ef4444 !important;
}

@keyframes pulse-recording {
    0%, 100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.7;
        transform: scale(1.05);
    }
}

/* Solution Display Enhancements */
.solution-content {
    animation: slideUp 0.5s ease;
}

.question-header,
.solution-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--glass-border);
}

.question-header i,
.solution-header i {
    font-size: 1.5rem;
    color: var(--primary);
}

.question-header h3,
.solution-header h3 {
    margin: 0;
    font-size: 1.25rem;
    color: var(--text-primary);
}

.subject-badge {
    margin-left: auto;
    padding: 0.5rem 1rem;
    background: var(--gradient-1);
    color: white;
    border-radius: var(--radius-sm);
    font-size: 0.875rem;
    font-weight: 600;
}

.question-text {
    padding: 1rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-sm);
    margin-bottom: 1.5rem;
    font-size: 1rem;
    line-height: 1.6;
    color: var(--text-secondary);
    border-left: 3px solid var(--primary);
}

.solution-text {
    padding: 1.5rem 0;
    line-height: 1.8;
    color: var(--text-primary);
}

.solution-text h4 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 1.5rem 0 0.75rem;
    font-size: 1.1rem;
    color: var(--primary);
}

.solution-text ul {
    margin: 0.75rem 0;
    padding-left: 1.5rem;
}

.solution-text li {
    margin: 0.5rem 0;
    color: var(--text-secondary);
}

.solution-text code {
    padding: 0.25rem 0.5rem;
    background: rgba(99, 102, 241, 0.1);
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    color: var(--primary-light);
    font-size: 0.9em;
}

.solution-text strong {
    color: var(--primary-light);
    font-weight: 600;
}

.solution-actions {
    display: flex;
    gap: 1rem;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--glass-border);
}

.action-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem;
    transition: all 0.3s ease;
}

.action-btn:hover {
    transform: translateY(-2px);
}

/* Empty States */
.empty-state,
.error-state {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--text-secondary);
}

.empty-state i,
.error-state i {
    font-size: 4rem;
    margin-bottom: 1rem;
    opacity: 0.3;
}

.error-state i {
    color: #ef4444;
    opacity: 0.5;
}

.empty-state h3,
.error-state h3 {
    margin: 0.5rem 0;
    color: var(--text-primary);
}

.empty-state p,
.error-state p {
    margin: 0.5rem 0 1.5rem;
    color: var(--text-tertiary);
}

.empty-history {
    text-align: center;
    padding: 2rem 1rem;
    color: var(--text-tertiary);
}

.empty-history i {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    opacity: 0.3;
}

/* Toast Notifications */
.toast-notification {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    padding: 1rem 1.5rem;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border-radius: var(--radius-md);
    border: 1px solid var(--glass-border);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    z-index: 10000;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.3s ease;
}

.toast-notification.show {
    opacity: 1;
    transform: translateY(0);
}

.toast-notification i {
    font-size: 1.25rem;
}

.toast-success {
    border-left: 3px solid #10b981;
}

.toast-success i {
    color: #10b981;
}

.toast-error {
    border-left: 3px solid #ef4444;
}

.toast-error i {
    color: #ef4444;
}

.toast-info {
    border-left: 3px solid var(--primary);
}

.toast-info i {
    color: var(--primary);
}

.toast-warning {
    border-left: 3px solid #f59e0b;
}

.toast-warning i {
    color: #f59e0b;
}

/* History Item Hover */
.history-item {
    cursor: pointer;
    transition: all 0.3s ease;
}

.history-item:hover {
    transform: translateX(5px);
    background: rgba(255, 255, 255, 0.03);
}

@media (max-width: 768px) {
    .app-container {
        padding: calc(80px + var(--spacing-sm)) var(--spacing-sm) var(--spacing-sm);
    }
    
    .dashboard-grid {
        grid-template-columns: 1fr;
    }
    
    .quick-actions-grid {
        grid-template-columns: 1fr;
    }
    
    .nav-menu {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: var(--glass-bg);
        backdrop-filter: blur(20px);
        padding: var(--spacing-sm);
        flex-direction: row;
        justify-content: space-around;
        border-radius: 0;
        z-index: 1000;
    }
    
    .nav-link span {
        display: none;
    }
    
    .nav-link {
        flex-direction: column;
        padding: var(--spacing-sm);
    }
}

/* =================================================================
   TOOLS PAGE - PREMIUM GLASSMORPHISM DESIGN
   ================================================================= */

.tools-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: var(--spacing-lg);
    padding: var(--spacing-lg);
}

.tool-card {
    padding: var(--spacing-xl);
    border-radius: var(--radius-lg);
    text-align: center;
    cursor: pointer;
    transition: all var(--transition-normal);
    border: 1px solid var(--glass-border);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    position: relative;
    overflow: hidden;
}

.tool-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-1);
    opacity: 0;
    transition: opacity var(--transition-normal);
}

.tool-card:hover::before {
    opacity: 1;
}

.tool-card:hover {
    transform: translateY(-12px) scale(1.02);
    border-color: rgba(99, 102, 241, 0.5);
    box-shadow: 0 20px 60px rgba(99, 102, 241, 0.4);
    background: rgba(255, 255, 255, 0.12);
}

.tool-icon {
    font-size: 3.5rem;
    margin-bottom: var(--spacing-md);
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: inline-block;
    animation: iconFloat 3s ease-in-out infinite;
}

@keyframes iconFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.tool-card h3 {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: var(--spacing-sm);
    color: var(--text-primary);
}

.tool-card p {
    color: var(--text-secondary);
    font-size: 1rem;
    line-height: 1.6;
}

/* Tool Fullscreen View - Covers everything except navbar */
.tool-fullscreen {
    display: none !important; /* Force hidden by default */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100vw;
    height: 100vh;
    background: var(--bg-primary); /* Same as main background */
    z-index: 998; /* Below navbar (1000) but above everything else */
    overflow-y: auto;
    padding-top: 80px; /* Space for navbar */
    animation: fadeInFullscreen 0.3s ease;
}

.tool-fullscreen[style*="display: block"] {
    display: block !important;
}

@keyframes fadeInFullscreen {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* Add the same animated background to fullscreen tools */
.tool-fullscreen::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
}

.tool-fullscreen-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-lg);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border-radius: var(--radius-lg);
    border: 1px solid var(--glass-border);
    margin: 0 var(--spacing-lg) var(--spacing-lg) var(--spacing-lg);
}

.tool-fullscreen-header h2 {
    color: var(--text-primary);
    font-size: 2rem;
    font-weight: 800;
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.tool-fullscreen-header h2 i {
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.close-tool-btn {
    width: 55px;
    height: 55px;
    border-radius: var(--radius-md);
    background: rgba(239, 68, 68, 0.1);
    border: 2px solid rgba(239, 68, 68, 0.3);
    color: #ef4444;
    font-size: 1.5rem;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
}

.close-tool-btn:hover {
    background: rgba(239, 68, 68, 0.2);
    border-color: #ef4444;
    transform: rotate(90deg) scale(1.1);
    box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
}

.tool-fullscreen-body {
    padding: var(--spacing-xl);
    max-width: 1600px;
    margin: 0 auto;
    border-radius: var(--radius-lg);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    margin-left: var(--spacing-lg);
    margin-right: var(--spacing-lg);
}

/* Tool-specific styles */
.converter-inputs {
    display: flex;
    align-items: center;
    gap: var(--spacing-lg);
    margin-top: var(--spacing-lg);
}

.input-group {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.tool-input {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    font-size: 1.1rem;
    color: var(--text-primary);
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
}

.unit-select, .tool-select {
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    font-size: 1rem;
    color: var(--text-primary);
}

.converter-icon {
    font-size: 2rem;
    color: var(--primary);
}

.cheat-sheet-preview,
.mindmap-canvas {
    min-height: 500px;
    padding: var(--spacing-xl);
    margin-top: var(--spacing-lg);
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.03);
    border: 1px dashed var(--glass-border);
}

.empty-state {
    color: var(--text-tertiary);
    font-size: 1.2rem;
    font-style: italic;
}

/* ================================================================
   STUDY PLANNER STYLES
   ================================================================ */

/* NEW Badge for Study Planner */
.tool-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: linear-gradient(135deg, #ec4899, #f43f5e);
    color: white;
    padding: 0.3rem 0.8rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    animation: pulse 2s ease-in-out infinite;
}

.featured-tool {
    border-color: rgba(236, 72, 153, 0.3);
}

.featured-tool:hover {
    border-color: rgba(236, 72, 153, 0.6);
    box-shadow: 0 20px 60px rgba(236, 72, 153, 0.4);
}

/* Progress Steps */
.planner-progress {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem;
    margin-bottom: 2rem;
    border-radius: var(--radius-lg);
    position: relative;
}

.planner-progress::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 10%;
    right: 10%;
    height: 2px;
    background: linear-gradient(90deg, 
        var(--primary) 0%, 
        var(--primary) 33%, 
        rgba(255,255,255,0.1) 33%, 
        rgba(255,255,255,0.1) 100%);
    transform: translateY(-50%);
    z-index: 0;
    transition: all 0.5s ease;
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    position: relative;
    z-index: 2;
    flex: 1;
    max-width: 150px;
}

.step-number {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(30, 30, 60, 1);
    border: 2px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-tertiary);
    transition: all 0.3s ease;
    position: relative;
    z-index: 3;
}

.progress-step.active .step-number {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-color: var(--primary);
    color: white;
    box-shadow: 0 10px 30px rgba(99, 102, 241, 0.5);
    transform: scale(1.1);
}

.progress-step.completed .step-number {
    background: var(--success);
    border-color: var(--success);
    color: white;
}

.progress-step.completed .step-number::after {
    content: '';
    position: absolute;
}

.progress-step span {
    font-size: 0.9rem;
    color: var(--text-tertiary);
    font-weight: 500;
}

.progress-step.active span {
    color: var(--primary-light);
    font-weight: 600;
}

/* Planner Steps */
.planner-step {
    display: none;
    animation: fadeInSlide 0.5s ease;
}

.planner-step.active {
    display: block;
}

@keyframes fadeInSlide {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.step-content {
    padding: 2.5rem;
    border-radius: var(--radius-lg);
}

.step-content h3 {
    font-size: 1.8rem;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, var(--text-primary), var(--primary-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.step-content h3 i {
    margin-right: 0.5rem;
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.step-description {
    color: var(--text-secondary);
    font-size: 1.05rem;
    margin-bottom: 2rem;
}

/* Mode Toggle */
.mode-toggle {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    padding: 0.5rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-lg);
    width: fit-content;
}

.mode-btn {
    padding: 0.8rem 1.5rem;
    border-radius: var(--radius-md);
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.mode-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.2);
}

.mode-btn.active {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-color: var(--primary);
    color: white;
    box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
}

/* Availability Modes */
.availability-mode {
    display: none;
}

.availability-mode.active {
    display: block;
}

/* Time Slots */
.time-slots-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.time-slot {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.time-slot:hover {
    border-color: var(--primary);
    box-shadow: 0 10px 30px rgba(99, 102, 241, 0.2);
}

.time-inputs {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
}

.time-input {
    padding: 0.8rem 1.2rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
    font-size: 1.1rem;
    font-weight: 600;
    transition: all 0.3s ease;
    width: 140px;
}

.time-input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

.time-separator {
    color: var(--text-tertiary);
    font-weight: 600;
}

.delete-slot-btn {
    padding: 0.8rem 1rem;
    border-radius: var(--radius-md);
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: var(--danger);
    cursor: pointer;
    transition: all 0.3s ease;
}

.delete-slot-btn:hover {
    background: var(--danger);
    color: white;
    transform: scale(1.05);
}

.add-slot-btn {
    padding: 1rem 1.5rem;
    border-radius: var(--radius-md);
    background: rgba(99, 102, 241, 0.1);
    border: 2px dashed var(--primary);
    color: var(--primary-light);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    width: 100%;
}

.add-slot-btn:hover {
    background: rgba(99, 102, 241, 0.2);
    border-style: solid;
    transform: translateY(-2px);
}

/* Days Tabs */
.days-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

.day-tab {
    padding: 0.8rem 1.5rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    flex: 1;
    min-width: 80px;
    text-align: center;
}

.day-tab:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.2);
}

.day-tab.active {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-color: var(--primary);
    color: white;
    box-shadow: 0 5px 20px rgba(99, 102, 241, 0.3);
}

.day-schedule {
    display: none;
}

.day-schedule.active {
    display: block;
}

/* Subject Weightage */
.weightage-controls {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.subject-weightage {
    padding: 1.5rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.subject-weightage:hover {
    border-color: rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.05);
}

.subject-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.subject-icon {
    font-size: 1.8rem;
}

.physics-color { color: #f59e0b; }
.chemistry-color { color: #10b981; }
.math-color { color: #8b5cf6; }

.subject-name {
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--text-primary);
}

.weightage-input-group {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.weightage-slider {
    flex: 1;
    height: 8px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.1);
    outline: none;
    -webkit-appearance: none;
}

.weightage-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(99, 102, 241, 0.5);
}

.weightage-slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    cursor: pointer;
    border: none;
    box-shadow: 0 5px 15px rgba(99, 102, 241, 0.5);
}

.weightage-number {
    width: 70px;
    padding: 0.5rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
    font-size: 1.1rem;
    font-weight: 700;
    text-align: center;
}

.weightage-unit {
    color: var(--text-tertiary);
    font-weight: 600;
}

.weightage-bar {
    height: 12px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.05);
    overflow: hidden;
    position: relative;
}

.weightage-fill {
    height: 100%;
    transition: width 0.3s ease;
    border-radius: 10px;
}

.physics-bg { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
.chemistry-bg { background: linear-gradient(90deg, #10b981, #34d399); }
.math-bg { background: linear-gradient(90deg, #8b5cf6, #a78bfa); }

.total-weightage {
    padding: 1.5rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    font-size: 1.3rem;
    font-weight: 700;
    margin-top: 1rem;
}

.total-value {
    font-size: 1.8rem;
    transition: color 0.3s ease;
}

.valid-icon {
    font-size: 1.5rem;
    transition: all 0.3s ease;
}

/* Chapter Selection */
.subject-tabs {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
}

.subject-tab {
    flex: 1;
    padding: 1rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.subject-tab:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.2);
}

.subject-tab.active {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-color: var(--primary);
    color: white;
    box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
}

.chapters-container {
    display: none;
}

.chapters-container.active {
    display: block;
}

.chapters-weightage-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-md);
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.chapters-weightage-info strong {
    font-size: 1.2rem;
}

.weightage-status {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
}

.chapters-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    max-height: 500px;
    overflow-y: auto;
    padding-right: 0.5rem;
}

.chapters-list::-webkit-scrollbar {
    width: 8px;
}

.chapters-list::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

.chapters-list::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-radius: 10px;
}

.chapter-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.5rem;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.chapter-item:hover {
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.05);
}

.chapter-checkbox {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
}

.chapter-checkbox input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: var(--primary);
}

.chapter-checkbox label {
    cursor: pointer;
    font-size: 1.05rem;
    color: var(--text-primary);
    user-select: none;
}

.chapter-weightage {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.chapter-weight-input {
    width: 70px;
    padding: 0.5rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
    font-size: 1rem;
    font-weight: 600;
    text-align: center;
    transition: all 0.3s ease;
}

.chapter-weight-input:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.chapter-weight-input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

.weight-unit {
    color: var(--text-tertiary);
    font-weight: 600;
}

/* Step Navigation */
.step-navigation {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
    margin-top: 2.5rem;
}

.btn-secondary {
    padding: 1rem 2rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-primary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.btn-primary.large {
    font-size: 1.2rem;
    padding: 1.2rem 2.5rem;
}

/* Generate Section */
.generate-section {
    text-align: center;
    padding: 4rem 2rem;
}

.generate-icon {
    font-size: 5rem;
    margin-bottom: 1.5rem;
    background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: iconFloat 3s ease-in-out infinite;
}

.generate-section h3 {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.generate-section p {
    color: var(--text-secondary);
    font-size: 1.1rem;
    margin-bottom: 2rem;
}

.generate-section .btn-primary {
    margin-bottom: 1rem;
}

/* Schedule Result */
.schedule-result {
    animation: fadeInSlide 0.5s ease;
}

.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.result-header h3 {
    font-size: 1.8rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.result-actions {
    display: flex;
    gap: 0.75rem;
}

.btn-icon {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-icon:hover {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    transform: scale(1.1);
}

.schedule-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.schedule-day-card {
    padding: 1.5rem;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.schedule-day-card:hover {
    border-color: var(--primary);
    box-shadow: 0 10px 30px rgba(99, 102, 241, 0.2);
}

.day-header {
    font-size: 1.3rem;
    font-weight: 700;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
    background: linear-gradient(135deg, var(--primary-light), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.day-sessions {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.schedule-session {
    padding: 1rem;
    border-radius: var(--radius-md);
    border-left: 4px solid;
    background: rgba(255, 255, 255, 0.03);
    transition: all 0.3s ease;
}

.schedule-session:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateX(5px);
}

.physics-session {
    border-color: #f59e0b;
    background: rgba(245, 158, 11, 0.05);
}

.chemistry-session {
    border-color: #10b981;
    background: rgba(16, 185, 129, 0.05);
}

.math-session {
    border-color: #8b5cf6;
    background: rgba(139, 92, 246, 0.05);
}

.session-time {
    font-size: 0.95rem;
    color: var(--text-tertiary);
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.session-subject {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 700;
    font-size: 1.1rem;
    color: var(--text-primary);
    margin-bottom: 0.3rem;
}

.session-chapter {
    font-size: 0.95rem;
    color: var(--text-secondary);
    font-style: italic;
}

.no-sessions {
    text-align: center;
    color: var(--text-tertiary);
    padding: 2rem;
    font-style: italic;
}

.schedule-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* Periodic Table Styles */
.periodic-table-full {
    display: grid;
    grid-template-columns: repeat(18, 1fr);
    gap: 8px;
    padding: var(--spacing-lg);
}

.element {
    padding: var(--spacing-sm);
    border-radius: var(--radius-sm);
    text-align: center;
    cursor: pointer;
    transition: all var(--transition-fast);
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
}

.element:hover {
    transform: scale(1.15);
    z-index: 10;
    box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4);
}

.element .atomic-number {
    font-size: 0.7rem;
    color: var(--text-tertiary);
}

.element .symbol {
    font-size: 1.5rem;
    font-weight: 800;
    color: var(--text-primary);
    margin: 4px 0;
}

.element .name {
    font-size: 0.7rem;
    color: var(--text-secondary);
}

@media (max-width: 768px) {
    .tools-card-grid {
        grid-template-columns: 1fr;
        padding: var(--spacing-md);
    }
    
    .tool-fullscreen {
        padding-top: 70px;
    }
    
    .tool-fullscreen-header {
        margin: 0 var(--spacing-md) var(--spacing-md) var(--spacing-md);
    }
    
    .tool-fullscreen-header h2 {
        font-size: 1.5rem;
    }
    
    .tool-fullscreen-body {
        margin-left: var(--spacing-md);
        margin-right: var(--spacing-md);
    }
    
    .converter-inputs {
        flex-direction: column;
    }
    
    .periodic-table-full {
        grid-template-columns: repeat(9, 1fr);
        gap: 4px;
    }
}

/* =================================================================
   STREAMING & TYPING EFFECTS
   ================================================================= */

.typing-indicator {
    display: inline-block;
    color: var(--primary-light);
    font-size: 1.2rem;
    animation: blink 0.7s infinite;
    margin-left: 4px;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

.solution-text.streaming {
    min-height: 100px;
    animation: fadeIn 0.3s ease;
}

#search-status-message {
    position: fixed;
    top: 80px;
    right: 20px;
    background: linear-gradient(135deg, rgba(66, 135, 245, 0.15), rgba(139, 92, 246, 0.15));
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    padding: 12px 20px;
    color: white;
    font-size: 14px;
    z-index: 10000;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOut {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

.solution-actions {
    transition: opacity 0.5s ease;
}

/* Smooth text appearance during streaming */
.solution-text {
    line-height: 1.8;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/* Context Log Styling */
.context-log {
    margin: var(--spacing-md) 0;
    padding: var(--spacing-md);
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: var(--radius-md);
    backdrop-filter: blur(10px);
}

.context-log-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    color: var(--primary-light);
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: var(--spacing-sm);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.context-log-header i {
    font-size: 1rem;
}

.context-log-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.context-log-list li {
    padding: var(--spacing-xs) var(--spacing-sm);
    margin-bottom: var(--spacing-xs);
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}

.context-log-list li i {
    color: var(--accent);
    font-size: 0.8rem;
}

/* Enhanced Solution Text Formatting */
.solution-text .paragraph {
    margin-bottom: var(--spacing-md);
    line-height: 1.9;
    color: var(--text-primary);
    font-size: 1rem;
}

.solution-text .highlight {
    color: var(--primary-light);
    font-weight: 600;
    background: rgba(99, 102, 241, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
}

.solution-text .section-header {
    color: var(--primary-light);
    font-size: 1.1rem;
    font-weight: 700;
    margin: var(--spacing-md) 0 var(--spacing-sm) 0;
    padding-bottom: var(--spacing-xs);
    border-bottom: 2px solid rgba(99, 102, 241, 0.3);
}

.solution-text .formula {
    background: rgba(139, 92, 246, 0.15);
    color: var(--accent);
    padding: 4px 8px;
    border-radius: 6px;
    font-family: 'Courier New', monospace;
    font-weight: 600;
    font-size: 0.95rem;
    white-space: nowrap;
    border: 1px solid rgba(139, 92, 246, 0.3);
}

.solution-text .custom-list {
    margin: var(--spacing-sm) 0;
    padding-left: var(--spacing-md);
}

.solution-text .bullet-item {
    margin-bottom: var(--spacing-xs);
    color: var(--text-secondary);
    line-height: 1.7;
    position: relative;
    padding-left: var(--spacing-xs);
}

.solution-text .bullet-item::before {
    content: "";
    color: var(--accent);
    font-weight: bold;
    position: absolute;
    left: -16px;
}

.solution-text .numbered-item {
    margin-bottom: var(--spacing-sm);
    display: flex;
    align-items: flex-start;
    line-height: 1.8;
    color: var(--text-secondary);
}

.solution-text .numbered-item .number {
    color: var(--primary-light);
    font-weight: 700;
    min-width: 30px;
    margin-right: var(--spacing-xs);
    background: rgba(99, 102, 241, 0.1);
    padding: 2px 8px;
    border-radius: 6px;
    display: inline-block;
    text-align: center;
}

.solution-text sub {
    font-size: 0.7em;
    vertical-align: sub;
}

.solution-text sup {
    font-size: 0.7em;
    vertical-align: super;
}

/* Better spacing and readability */
.solution-content {
    max-width: 900px;
    margin: 0 auto;
}

.question-text {
    font-size: 1.05rem;
    line-height: 1.7;
    color: var(--text-primary);
    background: rgba(99, 102, 241, 0.08);
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    border-left: 4px solid var(--primary);
    margin-bottom: var(--spacing-lg);
}

#streaming-solution {
    font-size: 1rem;
    line-height: 1.9;
    letter-spacing: 0.3px;
}

/* =================================================================
   STUDY MATERIAL - CHAPTER NOTES VIEWER
   ================================================================= */

.material-layout {
    display: grid;
    grid-template-columns: 350px 1fr;
    gap: var(--spacing-lg);
    height: calc(100vh - 200px);
}

.material-sidebar {
    padding: var(--spacing-lg);
    overflow-y: auto;
}

.material-sidebar h3 {
    color: var(--primary-light);
    font-size: 1.2rem;
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}

.chapter-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.chapter-item {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.chapter-item:hover {
    background: rgba(99, 102, 241, 0.15);
    border-color: var(--primary);
    transform: translateX(5px);
}

.chapter-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--gradient-1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.1rem;
    flex-shrink: 0;
}

.chapter-info {
    flex: 1;
}

.chapter-info h4 {
    color: var(--text-primary);
    font-size: 0.95rem;
    margin-bottom: 4px;
    font-weight: 600;
}

.chapter-info p {
    color: var(--text-tertiary);
    font-size: 0.85rem;
}

.chapter-item i {
    color: var(--primary-light);
    opacity: 0.5;
    transition: all 0.3s ease;
}

.chapter-item:hover i {
    opacity: 1;
    transform: translateX(3px);
}

.notes-viewer {
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
    overflow-y: auto;
}

.notes-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    text-align: center;
    color: var(--text-tertiary);
}

.notes-placeholder i {
    font-size: 4rem;
    margin-bottom: var(--spacing-md);
    color: var(--primary-light);
    opacity: 0.5;
}

.notes-placeholder h3 {
    color: var(--text-secondary);
    margin-bottom: var(--spacing-sm);
}

/* Fullscreen Notes Modal */
.notes-fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: var(--bg-primary);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.notes-fullscreen-header {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding: var(--spacing-lg) var(--spacing-xl);
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 10;
}

.notes-title-section {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.notes-title-section i {
    font-size: 2rem;
    color: var(--primary-light);
}

.notes-title-section h2 {
    color: var(--text-primary);
    font-size: 1.8rem;
    font-weight: 700;
}

.close-fullscreen-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

.close-fullscreen-btn:hover {
    background: rgba(239, 68, 68, 0.2);
    border-color: var(--danger);
    color: var(--danger);
    transform: rotate(90deg);
}

.notes-fullscreen-content {
    flex: 1;
    overflow-y: auto;
    padding: var(--spacing-xl);
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
}

.topic-section {
    margin-bottom: var(--spacing-2xl);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.topic-title {
    color: var(--primary-light);
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding-bottom: var(--spacing-md);
    border-bottom: 2px solid rgba(99, 102, 241, 0.3);
}

.topic-number {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: var(--gradient-1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

.topic-content {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.note-line {
    color: var(--text-secondary);
    font-size: 1.05rem;
    line-height: 1.9;
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.02);
    border-radius: var(--radius-sm);
    border-left: 3px solid var(--accent);
    transition: all 0.3s ease;
}

.note-line:hover {
    background: rgba(255, 255, 255, 0.05);
    border-left-color: var(--primary);
    transform: translateX(5px);
}

.note-line strong {
    color: var(--primary-light);
    font-weight: 600;
}

.note-line .formula-inline {
    background: rgba(139, 92, 246, 0.2);
    color: var(--accent);
    padding: 3px 8px;
    border-radius: 5px;
    font-family: 'Courier New', monospace;
    font-weight: 600;
    font-size: 0.95rem;
    border: 1px solid rgba(139, 92, 246, 0.3);
}

.note-line sub {
    font-size: 0.7em;
}

.note-line sup {
    font-size: 0.7em;
}

/* Scrollbar for notes */
.notes-fullscreen-content::-webkit-scrollbar {
    width: 10px;
}

.notes-fullscreen-content::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
}

.notes-fullscreen-content::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 10px;
}

.notes-fullscreen-content::-webkit-scrollbar-thumb:hover {
    background: var(--primary-light);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .material-layout {
        grid-template-columns: 1fr;
        height: auto;
    }
    
    .material-sidebar {
        height: 400px;
    }
    
    .notes-fullscreen-header {
        padding: var(--spacing-md);
    }
    
    .notes-title-section h2 {
        font-size: 1.3rem;
    }
    
    .notes-title-section i {
        font-size: 1.5rem;
    }
    
    .notes-fullscreen-content {
        padding: var(--spacing-md);
    }
}

/* =================================================================
   AI ASSISTANT - CHATBOT UI (CARD LAYOUT)
   ================================================================= */

.chat-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    grid-template-rows: 1fr auto;
    gap: var(--spacing-md);
    height: calc(100vh - 120px);
    padding: var(--spacing-md);
    max-height: 85vh;
}

/* Chat Sidebar Card */
.chat-sidebar-card {
    grid-row: 1 / 3;
    display: flex;
    flex-direction: column;
    padding: var(--spacing-lg);
    border-radius: 20px;
    overflow: hidden;
}

.chat-sidebar-header {
    margin-bottom: var(--spacing-lg);
}

.chat-sidebar-header h3 {
    color: var(--primary-light);
    font-size: 1rem;
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}

.new-chat-btn {
    width: 100%;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
    font-weight: 600;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.new-chat-btn:hover {
    background: rgba(99, 102, 241, 0.2);
    transform: translateY(-2px);
}

.history-list {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
    overflow-y: auto;
    margin-bottom: var(--spacing-md);
    padding-right: 5px;
}

.history-item {
    padding: 8px 12px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.05);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
}

.history-item.active {
    background: rgba(99, 102, 241, 0.2);
    border-color: var(--primary);
}

.history-item:hover {
    background: rgba(99, 102, 241, 0.15);
    border-color: var(--primary);
}

.history-item:hover .history-item-actions {
    opacity: 1;
}

.history-item-content {
    flex: 1;
    min-width: 0;
}

.history-item-name {
    color: var(--text-primary);
    font-size: 0.85rem;
    font-weight: 500;
    line-height: 1.3;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.history-item-date {
    font-size: 0.65rem;
    color: var(--text-tertiary);
    margin-top: 2px;
    font-weight: 500;
}

.history-item-preview {
    color: var(--text-secondary);
    font-size: 0.8rem;
    line-height: 1.25;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.history-item-actions {
    display: flex;
    align-items: center;
    gap: 6px;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.reference-badge {
    background: rgba(34, 197, 94, 0.2);
    color: #22c55e;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.7rem;
}

.history-menu-btn {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    padding: 4px 8px;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.history-menu-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

.history-item-menu {
    position: absolute;
    right: 0;
    top: 100%;
    background: rgba(30, 32, 45, 0.98);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 6px;
    z-index: 100;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    min-width: 140px;
}

.menu-option {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    padding: 8px 12px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    font-size: 0.85rem;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.menu-option:hover {
    background: rgba(99, 102, 241, 0.2);
    color: var(--text-primary);
}

.menu-option.delete-chat:hover {
    background: rgba(239, 68, 68, 0.2);
    color: var(--danger);
}

/* Context Usage Display */
.message-context-usage {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
}

.context-usage-display {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 10px 12px;
}

.context-usage-bar {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 6px;
}

.context-usage-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.3s ease;
}

.context-usage-fill.success {
    background: linear-gradient(90deg, #22c55e, #16a34a);
}

.context-usage-fill.warning {
    background: linear-gradient(90deg, #f59e0b, #d97706);
}

.context-usage-fill.danger {
    background: linear-gradient(90deg, #ef4444, #dc2626);
}

.context-usage-text {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.75rem;
    color: var(--text-tertiary);
}

.context-tokens {
    font-family: 'JetBrains Mono', monospace;
}

.context-percentage {
    font-weight: 600;
    color: var(--text-secondary);
}

.clear-history-btn-container {
    padding-top: var(--spacing-sm);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.clear-history-btn {
    width: 100%;
    padding: var(--spacing-xs) var(--spacing-sm);
    color: var(--danger);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
    font-size: 0.85rem;
    border-radius: 8px;
}

.clear-history-btn:hover {
    background: rgba(239, 68, 68, 0.15);
}

/* Main Chat Card */
.chat-main-card {
    grid-column: 2;
    grid-row: 1;
    display: flex;
    flex-direction: column;
    padding: 0;
    border-radius: 20px;
    overflow: hidden;
    position: relative;
}

.chat-header {
    padding: var(--spacing-md) var(--spacing-lg);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.chat-title-section {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.chat-title-section i {
    font-size: 1.5rem;
    color: var(--primary-light);
}

.chat-title-section h2 {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-primary);
}

.model-badge {
    padding: 6px 12px;
    border-radius: 15px;
    font-size: 0.8rem;
    color: var(--accent);
    display: flex;
    align-items: center;
    gap: 6px;
}

/* Chat Messages Area */
.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: var(--spacing-lg);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.welcome-message {
    text-align: center;
    padding: var(--spacing-xl);
    max-width: 500px;
    margin: auto;
}

.welcome-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto var(--spacing-md);
    background: var(--gradient-1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.welcome-icon i {
    font-size: 2rem;
    color: white;
}

.welcome-message h3 {
    color: var(--text-primary);
    font-size: 1.4rem;
    margin-bottom: var(--spacing-sm);
}

.welcome-message p {
    color: var(--text-secondary);
    font-size: 0.9rem;
    line-height: 1.5;
    margin-bottom: var(--spacing-xs);
}

/* Input Card */
.chat-input-card {
    grid-column: 2;
    grid-row: 2;
    padding: 0;
    border-radius: 20px;
    background: transparent;
    backdrop-filter: none;
    box-shadow: none;
    border: none;
}

.chat-input-wrapper {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 20px;
    padding: 10px 16px;
    transition: all 0.3s ease;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

.chat-input-wrapper:focus-within {
    border-color: var(--primary);
    background: rgba(255, 255, 255, 0.12);
}

.input-icon-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.input-icon-btn:hover {
    background: rgba(99, 102, 241, 0.2);
    color: var(--primary-light);
}

.input-icon-btn.recording {
    background: var(--danger);
    color: white;
    animation: pulse 1s infinite;
}

.chat-input {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--text-primary);
    font-size: 0.95rem;
    resize: none;
    max-height: 100px;
    padding: 8px;
    font-family: inherit;
    line-height: 1.4;
}

.chat-input:focus {
    outline: none;
}

.chat-input::placeholder {
    color: var(--text-tertiary);
}

.send-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--gradient-1);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.send-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 5px 20px rgba(99, 102, 241, 0.4);
}

.send-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: scale(1);
}

.image-preview-container {
    margin-top: var(--spacing-md);
    position: relative;
}

.image-preview {
    max-width: 200px;
    border-radius: var(--radius-md);
    border: 2px solid var(--primary);
}

.remove-image-btn {
    position: absolute;
    top: -10px;
    right: -10px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: var(--danger);
    color: white;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Context Log in Messages */
.context-log {
    margin-top: var(--spacing-md);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: var(--radius-sm);
    font-size: 0.85rem;
}

/* Scrollbar */
.chat-messages::-webkit-scrollbar {
    width: 8px;
}

.chat-messages::-webkit-scrollbar-track {
    background: transparent;
}

.chat-messages::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .chat-container {
        grid-template-columns: 1fr;
    }
    
    .chat-sidebar {
        display: none;
    }
    
    .message-content {
        max-width: 85%;
    }
}

/* Slide In Animation */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Pulse Animation for Recording */
@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
    }
}

/* Message Bubbles */
.message {
    display: flex;
    gap: var(--spacing-sm);
    animation: slideIn 0.3s ease;
}

.message.user {
    flex-direction: row-reverse;
}

.message-avatar {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 1rem;
}

.message.user .message-avatar {
    background: var(--gradient-2);
}

.message.assistant .message-avatar {
    background: var(--gradient-1);
}

.message-content {
    max-width: 75%;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.message.user .message-content {
    align-items: flex-end;
}

.message-bubble {
    padding: 10px 14px;
    border-radius: 16px;
    line-height: 1.5;
    word-wrap: break-word;
    font-size: 0.95rem;
}

.message.user .message-bubble {
    background: var(--gradient-1);
    color: white;
    border-bottom-right-radius: 4px;
}

.message.assistant .message-bubble {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
    border-bottom-left-radius: 4px;
}

.message-time {
    font-size: 0.7rem;
    color: var(--text-tertiary);
    padding: 0 8px;
}

.message-image {
    max-width: 280px;
    border-radius: 12px;
    margin-top: 4px;
}

/* Typing Indicator */
.typing-indicator {
    display: flex;
    gap: 5px;
    padding: 10px;
}

.typing-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: var(--primary-light);
    animation: typing 1.4s infinite;
}

.typing-dot:nth-child(2) {
    animation-delay: 0.2s;
}

.typing-dot:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes typing {
    0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.5;
    }
    30% {
        transform: translateY(-8px);
        opacity: 1;
    }
}

/* Image Preview in Input */
.image-preview-container {
    margin-bottom: var(--spacing-sm);
    position: relative;
    display: inline-block;
}

.image-preview {
    max-width: 150px;
    border-radius: 12px;
    border: 2px solid var(--primary);
}

.remove-image-btn {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    background: var(--danger);
    color: white;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
}

/* Context Log in Messages */
.context-log {
    margin-top: var(--spacing-sm);
    padding: var(--spacing-xs) var(--spacing-sm);
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: 8px;
    font-size: 0.8rem;
}

/* Scrollbar for Chat */
.chat-messages::-webkit-scrollbar,
.history-list::-webkit-scrollbar {
    width: 6px;
}

.chat-messages::-webkit-scrollbar-track,
.history-list::-webkit-scrollbar-track {
    background: transparent;
}

.chat-messages::-webkit-scrollbar-thumb,
.history-list::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
}

.chat-messages::-webkit-scrollbar-thumb:hover,
.history-list::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .chat-layout {
        grid-template-columns: 1fr;
        grid-template-rows: 1fr auto;
        padding: var(--spacing-sm);
    }
    
    .chat-sidebar-card {
        display: none;
    }
    
    .chat-main-card {
        grid-column: 1;
    }
    
    .chat-input-card {
        grid-column: 1;
    }
    
    .message-content {
        max-width: 85%;
    }
}

/* Enhanced Formatting Styles */
.fraction {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    vertical-align: middle;
    margin: 0 4px;
    font-size: 0.95em;
}

.numerator,
.denominator {
    padding: 0 4px;
}

.fraction-bar {
    width: 100%;
    height: 1px;
    background: currentColor;
    margin: 2px 0;
}

.bullet-item {
    padding-left: 1em;
    margin: 4px 0;
}

.numbered-item {
    display: flex;
    gap: 8px;
    margin: 6px 0;
}

.numbered-item .number {
    font-weight: 600;
    color: var(--primary-light);
    min-width: 24px;
}

.section-header {
    font-size: 1.1em;
    font-weight: 700;
    color: var(--primary-light);
    margin: 12px 0 8px 0;
    padding-bottom: 4px;
    border-bottom: 2px solid var(--primary);
}

.highlight {
    color: var(--accent);
    font-weight: 600;
}

.formula {
    font-family: 'Courier New', monospace;
    background: rgba(99, 102, 241, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.95em;
}

/* Additional Header Styles */
.section-header-large {
    font-size: 1.3em;
    font-weight: 700;
    color: var(--primary-light);
    margin: 16px 0 10px 0;
    padding-bottom: 6px;
    border-bottom: 3px solid var(--primary);
}

.section-header-small {
    font-size: 1em;
    font-weight: 600;
    color: var(--primary-light);
    margin: 10px 0 6px 0;
    padding-bottom: 3px;
    border-bottom: 1px solid rgba(99, 102, 241, 0.4);
}

/* Enhanced Context Log - Match Screenshot */
.context-log {
    margin-top: var(--spacing-md);
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(168, 85, 247, 0.15) 100%);
    border: 1px solid rgba(99, 102, 241, 0.4);
    border-radius: 12px;
    font-size: 0.85rem;
    line-height: 1.6;
}

.context-log strong {
    color: var(--primary-light);
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 6px;
    margin-bottom: 8px;
}

.context-log br + br {
    display: none;
}

/* =================================================================
   STUDY SESSION PAGE STYLES
   ================================================================= */

.study-session-layout {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
    padding: var(--spacing-lg);
}

.study-settings {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    padding: var(--spacing-lg);
    margin-bottom: var(--spacing-md);
}

.setting-group {
    margin-bottom: var(--spacing-md);
}

.setting-group label {
    display: block;
    margin-bottom: var(--spacing-sm);
    color: var(--text-secondary);
    font-weight: 500;
    font-size: 0.9rem;
}

.time-input-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.time-input-group input {
    width: 80px;
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    font-size: 1rem;
    text-align: center;
}

.time-input-group input:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(255, 255, 255, 0.08);
}

.time-input-group span {
    color: var(--text-tertiary);
    font-size: 0.85rem;
}

/* Typing Cursor Animation */
.typing-cursor {
    display: inline-block;
    width: 2px;
    height: 1em;
    background: var(--primary-light);
    margin-left: 2px;
    animation: blink 0.7s infinite;
}

@keyframes blink {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0; }
}

/* =================================================================
   STREAMING MATH RENDERER - STRUCTURAL LOCKING
   ================================================================= */

/* Prevent layout shifts during streaming */
.streaming-content {
    min-height: 1.5em;
    position: relative;
}

/* Lock container height when math is rendering */
.message-bubble.streaming {
    will-change: contents;
    contain: layout;
}

/* Smooth rendering for inline math */
.message-bubble .katex {
    display: inline-block;
    vertical-align: middle;
}

/* Display math should be block-level */
.message-bubble .katex-display {
    display: block;
    margin: 1em 0;
    text-align: center;
}

/* Prevent jitter during streaming */
.message-bubble {
    overflow-anchor: none; /* Disable scroll anchoring */
}

.chat-messages {
    overflow-anchor: auto; /* Enable at container level */
}

/* =================================================================
   STUDY SESSION PAGE - ENHANCED STYLES
   ================================================================= */

.study-session-layout {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-lg);
    padding: var(--spacing-lg);
    max-width: 1400px;
    margin: 0 auto;
}

.study-session-layout .dashboard-card {
    padding: var(--spacing-xl);
}

.study-session-layout .dashboard-card.large {
    grid-column: span 1;
}

.study-session-layout .card-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-lg);
    padding-bottom: var(--spacing-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.study-session-layout .card-header h3 {
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.study-session-layout .card-header h3 i {
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.study-settings {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.setting-group {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.setting-group label {
    display: block;
    margin-bottom: var(--spacing-xs);
    color: var(--text-secondary);
    font-weight: 600;
    font-size: 0.95rem;
}

.time-input-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.time-input-group input {
    width: 80px;
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    font-size: 1.2rem;
    font-weight: 600;
    text-align: center;
    transition: all var(--transition-normal);
}

.time-input-group input:hover {
    border-color: rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.08);
}

.time-input-group input:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.1);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.2);
}

.time-input-group span {
    color: var(--text-tertiary);
    font-size: 1rem;
    font-weight: 500;
}

.setting-group > input[type="number"] {
    width: 120px;
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    font-size: 1.2rem;
    font-weight: 600;
    text-align: center;
    transition: all var(--transition-normal);
}

.setting-group > input[type="number"]:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.1);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.2);
}

/* Preset Buttons Page */
.preset-buttons-page {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.preset-btn {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.3rem;
    padding: var(--spacing-md) var(--spacing-lg);
    background: rgba(255, 255, 255, 0.03);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-normal);
    text-align: left;
}

.preset-btn:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: rgba(99, 102, 241, 0.3);
    transform: translateX(8px);
}

.preset-btn i {
    font-size: 1.2rem;
    color: var(--primary-light);
    margin-bottom: 0.2rem;
}

.preset-btn span {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
}

.preset-btn small {
    font-size: 0.85rem;
    color: var(--text-tertiary);
}

/* Sleep Detector Info */
.sleep-detector-info {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.sleep-detector-info > p {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: rgba(99, 102, 241, 0.1);
    border-radius: var(--radius-md);
    border-left: 4px solid var(--primary);
    color: var(--text-secondary);
    line-height: 1.6;
}

.sleep-detector-info > p i {
    color: var(--primary-light);
    font-size: 1.2rem;
    margin-top: 0.2rem;
}

.sleep-detector-info .setting-group {
    background: rgba(255, 255, 255, 0.03);
    padding: var(--spacing-lg);
    border-radius: var(--radius-md);
}

.sleep-detector-info .setting-group input[type="range"] {
    width: 100%;
    height: 8px;
    -webkit-appearance: none;
    appearance: none;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    outline: none;
    margin: var(--spacing-md) 0;
}

.sleep-detector-info .setting-group input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--gradient-1);
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
    transition: all var(--transition-normal);
}

.sleep-detector-info .setting-group input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.2);
}

.detector-features {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-md);
    margin-top: var(--spacing-md);
}

.detector-features span {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(16, 185, 129, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.detector-features span i {
    color: var(--success);
}

/* Start Session Button */
.study-session-layout .btn-primary {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-md);
    background: var(--gradient-1);
    border: none;
    border-radius: var(--radius-md);
    color: white;
    font-weight: 700;
    cursor: pointer;
    transition: all var(--transition-normal);
    box-shadow: 0 8px 30px rgba(99, 102, 241, 0.3);
}

.study-session-layout .btn-primary:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(99, 102, 241, 0.5);
}

.study-session-layout .btn-primary i {
    font-size: 1.3rem;
}

/* =================================================================
   TOOL FULLSCREEN - ENHANCED STYLES
   ================================================================= */

.tool-fullscreen {
    display: none !important;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100vw;
    height: 100vh;
    background: var(--bg-primary);
    z-index: 998;
    overflow-y: auto;
    padding: 100px var(--spacing-xl) var(--spacing-xl);
}

.tool-fullscreen[style*="display: block"] {
    display: block !important;
}

/* Animated background for tools */
.tool-fullscreen::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(ellipse at 20% 20%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 80%, rgba(236, 72, 153, 0.1) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(139, 92, 246, 0.08) 0%, transparent 60%);
    z-index: -1;
    pointer-events: none;
}

.tool-fullscreen-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-lg) var(--spacing-xl);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: var(--radius-lg);
    border: 1px solid var(--glass-border);
    margin-bottom: var(--spacing-lg);
    max-width: 1600px;
    margin-left: auto;
    margin-right: auto;
}

.tool-fullscreen-header h2 {
    color: var(--text-primary);
    font-size: 1.8rem;
    font-weight: 800;
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.tool-fullscreen-header h2 i {
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 2rem;
}

.close-tool-btn {
    width: 50px;
    height: 50px;
    border-radius: var(--radius-md);
    background: rgba(239, 68, 68, 0.1);
    border: 2px solid rgba(239, 68, 68, 0.3);
    color: #ef4444;
    font-size: 1.3rem;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
}

.close-tool-btn:hover {
    background: rgba(239, 68, 68, 0.2);
    border-color: #ef4444;
    transform: rotate(90deg) scale(1.1);
    box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
}

.tool-fullscreen-body {
    padding: var(--spacing-xl);
    max-width: 1600px;
    margin: 0 auto;
    border-radius: var(--radius-lg);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    min-height: 400px;
}

/* Tool Inputs */
.tool-input {
    width: 100%;
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--radius-md);
    font-size: 1.1rem;
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    transition: all var(--transition-normal);
}

.tool-input:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.1);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.2);
}

.tool-input::placeholder {
    color: var(--text-tertiary);
}

.tool-select {
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--radius-md);
    font-size: 1rem;
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.tool-select:focus {
    outline: none;
    border-color: var(--primary);
}

.tool-select option {
    background: var(--bg-secondary);
    color: var(--text-primary);
}

/* Unit Converter */
.converter-inputs {
    display: flex;
    align-items: center;
    gap: var(--spacing-xl);
    margin-top: var(--spacing-xl);
    flex-wrap: wrap;
    justify-content: center;
}

.input-group {
    flex: 1;
    min-width: 250px;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.unit-select {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    font-size: 1rem;
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
}

.converter-icon {
    font-size: 2.5rem;
    color: var(--primary);
    animation: pulseGlow 2s ease-in-out infinite;
}

@keyframes pulseGlow {
    0%, 100% { opacity: 0.7; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.1); }
}

/* Log Calculator */
.log-inputs {
    display: flex;
    gap: var(--spacing-lg);
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: var(--spacing-xl);
}

.log-inputs .tool-input {
    flex: 2;
    min-width: 200px;
}

.log-inputs .tool-select {
    flex: 1;
    min-width: 180px;
}

.log-inputs .btn-primary {
    padding: var(--spacing-md) var(--spacing-xl);
    font-size: 1.1rem;
    white-space: nowrap;
}

.result-display {
    padding: var(--spacing-xl);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-lg);
    border: 2px dashed rgba(255, 255, 255, 0.1);
    text-align: center;
    min-height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.result-display p {
    font-size: 1.3rem;
    color: var(--text-secondary);
}

/* Mock Test Config */
.test-config {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.test-options {
    display: flex;
    gap: var(--spacing-lg);
    align-items: center;
    flex-wrap: wrap;
}

.test-options .tool-input-small {
    width: 120px;
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    font-size: 1rem;
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
}

/* Cheat Sheet & Mindmap */
.cheat-sheet-preview,
.mindmap-canvas {
    min-height: 450px;
    padding: var(--spacing-xl);
    margin-top: var(--spacing-xl);
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.02);
    border: 2px dashed rgba(255, 255, 255, 0.1);
}

.empty-state {
    color: var(--text-tertiary);
    font-size: 1.3rem;
    font-style: italic;
}

/* Tool Buttons */
.tool-fullscreen-body .btn-primary {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md) var(--spacing-xl);
    background: var(--gradient-1);
    border: none;
    border-radius: var(--radius-md);
    color: white;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all var(--transition-normal);
    box-shadow: 0 8px 30px rgba(99, 102, 241, 0.3);
    margin-top: var(--spacing-md);
}

.tool-fullscreen-body .btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 40px rgba(99, 102, 241, 0.5);
}

/* =================================================================
   PERIODIC TABLE - COMPLETE 118 ELEMENTS
   ================================================================= */

.periodic-table-container {
    overflow-x: auto;
    padding: var(--spacing-md);
}

.periodic-table-full {
    display: grid;
    grid-template-columns: repeat(18, minmax(55px, 1fr));
    grid-template-rows: repeat(10, auto);
    gap: 4px;
    padding: var(--spacing-md);
    min-width: 1000px;
}

.element {
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid var(--element-color, var(--primary));
    border-radius: var(--radius-sm);
    padding: 0.4rem;
    text-align: center;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 65px;
    position: relative;
}

.element:hover {
    transform: scale(1.15);
    background: var(--element-color, var(--primary));
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 0 20px var(--element-color, var(--primary));
    z-index: 10;
}

.element:hover .element-name,
.element:hover .atomic-number {
    color: white;
}

.atomic-number {
    font-size: 0.6rem;
    opacity: 0.7;
    margin-bottom: 0.1rem;
    color: var(--text-tertiary);
}

.element-symbol {
    font-size: 1.2rem;
    font-weight: 900;
    color: var(--text-primary);
    margin: 0.1rem 0;
}

.element-name {
    font-size: 0.55rem;
    color: var(--text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Element Category Colors */
.alkali-metal { --element-color: #ec4899; }
.alkaline-earth { --element-color: #f59e0b; }
.transition-metal { --element-color: #ef4444; }
.post-transition { --element-color: #8b5cf6; }
.metalloid { --element-color: #14b8a6; }
.nonmetal { --element-color: #6366f1; }
.halogen { --element-color: #10b981; }
.noble-gas { --element-color: #06b6d4; }
.lanthanide { --element-color: #a855f7; }
.actinide { --element-color: #f43f5e; }

/* Legend */
.periodic-legend {
    display: flex;
    gap: var(--spacing-md);
    padding: var(--spacing-lg);
    flex-wrap: wrap;
    justify-content: center;
    margin-top: var(--spacing-lg);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-md);
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.legend-color {
    width: 16px;
    height: 16px;
    border-radius: 4px;
}

/* Lanthanide/Actinide Gap Indicator */
.element-gap {
    grid-column: span 1;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-tertiary);
    font-size: 0.7rem;
}

/* =================================================================
   STUDY PLANNER - ENHANCED STYLES
   ================================================================= */

#studyPlannerTool .tool-fullscreen-body {
    background: transparent;
    backdrop-filter: none;
    border: none;
    padding: 0;
}

.planner-progress {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
    border-radius: var(--radius-lg);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    position: relative;
}

.planner-progress::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 15%;
    right: 15%;
    height: 3px;
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-50%);
    z-index: 0;
    border-radius: 2px;
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    position: relative;
    z-index: 1;
    flex: 1;
    max-width: 140px;
}

.step-number {
    width: 55px;
    height: 55px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    border: 3px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    font-weight: 800;
    color: var(--text-tertiary);
    transition: all 0.4s ease;
}

.progress-step.active .step-number {
    background: var(--gradient-1);
    border-color: var(--primary);
    color: white;
    box-shadow: 0 10px 40px rgba(99, 102, 241, 0.5);
    transform: scale(1.15);
}

.progress-step.completed .step-number {
    background: var(--success);
    border-color: var(--success);
    color: white;
    box-shadow: 0 8px 30px rgba(16, 185, 129, 0.4);
}

.progress-step span {
    font-size: 0.95rem;
    color: var(--text-tertiary);
    font-weight: 600;
}

.progress-step.active span {
    color: var(--primary-light);
    font-weight: 700;
}

.progress-step.completed span {
    color: var(--success);
}

/* Planner Steps Content */
.planner-step {
    display: none;
    animation: fadeInSlide 0.5s ease;
}

.planner-step.active {
    display: block;
}

/* =================================================================
   INPUT & CHECKBOX STYLING FIXES
   ================================================================= */

/* Fix number of sets input styling */
#numSets {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: var(--text-primary) !important;
    padding: var(--spacing-sm) !important;
    border-radius: var(--border-radius-sm) !important;
    font-size: 0.95rem !important;
}

#numSets:focus {
    outline: none !important;
    border-color: var(--accent) !important;
    background: rgba(255, 255, 255, 0.08) !important;
}

/* Style dashboard checkboxes */
.progress-item input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.05);
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.progress-item input[type="checkbox"]:hover {
    border-color: var(--accent);
    background: rgba(255, 255, 255, 0.1);
}

.progress-item input[type="checkbox"]:checked {
    background: linear-gradient(135deg, var(--accent), var(--accent-hover));
    border-color: var(--accent);
}

.progress-item input[type="checkbox"]:checked::after {
    content: '';
    position: absolute;
    color: white;
    font-size: 14px;
    font-weight: bold;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* =================================================================
   PROFESSIONAL CAMERA STYLING
   ================================================================= */

.camera-container-pro {
    position: fixed;
    bottom: 24px;
    right: 24px;
    width: 380px;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 16px;
    border: 2px solid rgba(99, 102, 241, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6), 0 0 20px rgba(99, 102, 241, 0.2);
    overflow: hidden;
    z-index: 9999;
    animation: slideInCamera 0.4s ease;
}

@keyframes slideInCamera {
    from {
        opacity: 0;
        transform: translateY(100px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.camera-pro-header {
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.camera-pro-status {
    display: flex;
    align-items: center;
    gap: 12px;
}

.status-badge-pro {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: rgba(16, 185, 129, 0.2);
    border: 1px solid rgba(16, 185, 129, 0.4);
    border-radius: 20px;
    color: #10b981;
    font-size: 0.85rem;
    font-weight: 600;
}

.status-badge-pro i {
    animation: pulseEye 2s infinite;
}

@keyframes pulseEye {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.timer-display-pro {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
}

.camera-pro-controls {
    display: flex;
    gap: 8px;
}

.icon-btn-pro {
    width: 36px;
    height: 36px;
    border: none;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.icon-btn-pro:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.05);
}

.icon-btn-pro.danger-btn {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.icon-btn-pro.danger-btn:hover {
    background: rgba(239, 68, 68, 0.3);
}

.camera-pro-body {
    position: relative;
    width: 100%;
    height: 280px;
    overflow: hidden;
}

.camera-pro-body video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.detection-overlay-pro {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    gap: 60px;
    pointer-events: none;
}

.eye-indicator-pro {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(99, 102, 241, 0.2);
    border: 2px solid rgba(99, 102, 241, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--accent);
    font-size: 1.5rem;
    transition: all 0.2s ease;
}

.eye-indicator-pro.closed {
    background: rgba(239, 68, 68, 0.3);
    border-color: #ef4444;
    color: #ef4444;
}

.session-info-pro {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
    padding: 16px;
    display: flex;
    justify-content: space-around;
}

.info-item-pro {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--text-primary);
    font-size: 0.9rem;
    font-weight: 600;
}

.info-item-pro i {
    color: var(--accent);
}

.step-content {
    padding: var(--spacing-xl);
    border-radius: var(--radius-lg);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
}

.step-content h3 {
    font-size: 1.6rem;
    margin-bottom: var(--spacing-sm);
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.step-content h3 i {
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.step-description {
    color: var(--text-secondary);
    font-size: 1.05rem;
    margin-bottom: var(--spacing-xl);
}

/* Mode Toggle */
.mode-toggle {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-xl);
    padding: 0.5rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-lg);
    width: fit-content;
}

.mode-btn {
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--radius-md);
    background: transparent;
    border: 2px solid rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.mode-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.2);
}

.mode-btn.active {
    background: var(--gradient-1);
    border-color: var(--primary);
    color: white;
    box-shadow: 0 8px 30px rgba(99, 102, 241, 0.4);
}

/* Time Slots */
.time-slots-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.time-slot {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--spacing-md) var(--spacing-lg);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.time-inputs {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.time-input {
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 1rem;
}

.time-input:focus {
    outline: none;
    border-color: var(--primary);
}

.time-separator {
    color: var(--text-tertiary);
    font-weight: 500;
}

.delete-slot-btn {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-sm);
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: #ef4444;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
}

.delete-slot-btn:hover {
    background: rgba(239, 68, 68, 0.2);
    transform: scale(1.1);
}

.add-slot-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: rgba(99, 102, 241, 0.1);
    border: 2px dashed rgba(99, 102, 241, 0.3);
    border-radius: var(--radius-md);
    color: var(--primary-light);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
}

.add-slot-btn:hover {
    background: rgba(99, 102, 241, 0.2);
    border-color: var(--primary);
}

/* Day Tabs */
.days-tabs {
    display: flex;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-lg);
    flex-wrap: wrap;
}

.day-tab {
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
}

.day-tab:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.2);
}

.day-tab.active {
    background: var(--gradient-1);
    border-color: var(--primary);
    color: white;
}

/* Subject Weightage */
.weightage-controls {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.subject-weightage {
    padding: var(--spacing-lg);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.subject-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
}

.subject-icon {
    font-size: 1.5rem;
}

.physics-color { color: #6366f1; }
.chemistry-color { color: #ec4899; }
.math-color { color: #f59e0b; }

.subject-name {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
}

.weightage-input-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
}

.weightage-slider {
    flex: 1;
    height: 8px;
    -webkit-appearance: none;
    appearance: none;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    outline: none;
}

.weightage-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: var(--gradient-1);
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
}

.weightage-number {
    width: 70px;
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 1rem;
    font-weight: 600;
    text-align: center;
}

.weightage-unit {
    color: var(--text-tertiary);
    font-weight: 600;
}

.weightage-bar {
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.weightage-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.3s ease;
}

.physics-bg { background: linear-gradient(90deg, #6366f1, #818cf8); }
.chemistry-bg { background: linear-gradient(90deg, #ec4899, #f472b6); }
.math-bg { background: linear-gradient(90deg, #f59e0b, #fbbf24); }

.total-weightage {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: rgba(16, 185, 129, 0.1);
    border-radius: var(--radius-md);
    color: var(--success);
    font-weight: 700;
    font-size: 1.1rem;
}

.total-weightage.invalid {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
}

/* Subject Tabs */
.subject-tabs {
    display: flex;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-xl);
}

.subject-tab {
    padding: var(--spacing-md) var(--spacing-lg);
    background: rgba(255, 255, 255, 0.03);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    color: var(--text-secondary);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.subject-tab:hover {
    background: rgba(255, 255, 255, 0.08);
}

.subject-tab.active {
    background: var(--gradient-1);
    border-color: var(--primary);
    color: white;
}

/* Chapters Container */
.chapters-container {
    display: none;
}

.chapters-container.active {
    display: block;
}

.chapters-weightage-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-md);
    margin-bottom: var(--spacing-lg);
}

.weightage-status {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: var(--text-tertiary);
}

.chapters-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
    max-height: 400px;
    overflow-y: auto;
    padding-right: var(--spacing-sm);
}

/* Step Navigation */
.step-navigation {
    display: flex;
    justify-content: space-between;
    margin-top: var(--spacing-xl);
    padding-top: var(--spacing-lg);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-secondary {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md) var(--spacing-xl);
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
}

/* Generate Section */
.generate-section {
    text-align: center;
    padding: var(--spacing-2xl);
}

.generate-icon {
    width: 100px;
    height: 100px;
    margin: 0 auto var(--spacing-xl);
    background: var(--gradient-1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    color: white;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

.generate-section h3 {
    font-size: 1.8rem;
    color: var(--text-primary);
    margin-bottom: var(--spacing-md);
}

.generate-section p {
    color: var(--text-secondary);
    font-size: 1.1rem;
    margin-bottom: var(--spacing-xl);
}

.generate-section .btn-primary.large {
    padding: var(--spacing-lg) var(--spacing-2xl);
    font-size: 1.2rem;
    margin-bottom: var(--spacing-md);
}

/* Schedule Result */
.schedule-result {
    animation: fadeIn 0.5s ease;
}

.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-xl);
}

.result-header h3 {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    font-size: 1.5rem;
}

.result-actions {
    display: flex;
    gap: var(--spacing-sm);
}

.btn-icon {
    width: 45px;
    height: 45px;
    border-radius: var(--radius-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-icon:hover {
    background: rgba(99, 102, 241, 0.2);
    border-color: var(--primary);
}

.schedule-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-xl);
}

.schedule-actions {
    display: flex;
    justify-content: center;
    gap: var(--spacing-md);
}

/* Responsive */
@media (max-width: 1024px) {
    .study-session-layout {
        grid-template-columns: 1fr;
    }
    
    .periodic-table-full {
        grid-template-columns: repeat(18, 50px);
    }
}

@media (max-width: 768px) {
    .tool-fullscreen {
        padding: 90px var(--spacing-md) var(--spacing-md);
    }
    
    .tool-fullscreen-header {
        padding: var(--spacing-md);
    }
    
    .tool-fullscreen-header h2 {
        font-size: 1.3rem;
    }
    
    .converter-inputs {
        flex-direction: column;
    }
    
    .log-inputs {
        flex-direction: column;
    }
    
    .planner-progress {
        flex-wrap: wrap;
        gap: var(--spacing-md);
    }
    
    .planner-progress::before {
        display: none;
    }
    
    .step-navigation {
        flex-direction: column;
        gap: var(--spacing-md);
    }
    
    .days-tabs {
        justify-content: center;
    }
    
    .subject-tabs {
        flex-wrap: wrap;
    }
}

/* =================================================================
   STUDY SESSION - IMPROVED COMPACT LAYOUT WITH BETTER VISUAL DESIGN
   ================================================================= */

.study-session-compact-layout {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--spacing-lg);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.session-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-lg);
}

.session-row .dashboard-card {
    padding: var(--spacing-lg) var(--spacing-xl);
}

.session-row .dashboard-card h3 {
    font-size: 1.1rem;
    color: var(--text-primary);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 600;
}

/* Compact Settings with Icons */
.compact-settings {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.setting-inline {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-md);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-md);
    transition: all var(--transition-normal);
}

.setting-inline:hover {
    background: rgba(255, 255, 255, 0.05);
}

.setting-inline label {
    font-size: 0.9rem;
    color: var(--text-secondary);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.setting-inline label i {
    color: var(--primary-light);
}

.setting-inline .time-input-group {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.85rem;
    color: var(--text-tertiary);
}

.setting-inline .time-input-group input {
    width: 50px;
    padding: 6px 8px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 0.9rem;
    text-align: center;
    transition: all var(--transition-normal);
}

.setting-inline .time-input-group input:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.1);
}

.setting-inline input[type=\"number\"] {
    padding: 6px 8px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 0.9rem;
    text-align: center;
}

.setting-inline input[type=\"range\"] {
    flex: 1;
    accent-color: var(--primary);
}

.session-info {
    margin-top: var(--spacing-md);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(99, 102, 241, 0.1);
    border-left: 3px solid var(--primary);
    border-radius: var(--radius-sm);
    font-size: 0.85rem;
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.session-info i {
    color: var(--primary-light);
}

.session-info strong {
    color: var(--text-primary);
}

/* Preset List - Improved Design */
.preset-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.preset-option {
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    text-align: left;
}

.preset-option:hover {
    background: rgba(99, 102, 241, 0.15);
    border-color: var(--primary);
    transform: translateX(4px);
}

.preset-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-sm);
    background: rgba(99, 102, 241, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: var(--primary-light);
}

.preset-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.preset-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
}

.preset-time {
    font-size: 0.75rem;
    color: var(--text-tertiary);
}

/* Detector Compact - Improved */
.detector-compact {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.detector-alert {
    display: flex;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: rgba(99, 102, 241, 0.1);
    border-radius: var(--radius-md);
    border-left: 3px solid var(--primary);
}

.detector-alert i {
    font-size: 1.2rem;
    color: var(--primary-light);
    flex-shrink: 0;
    margin-top: 2px;
}

.detector-alert p {
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 0;
}

.sensitivity-val {
    color: var(--primary-light);
    font-weight: 600;
}

.sensitivity-note {
    display: block;
    font-size: 0.75rem;
    color: var(--text-tertiary);
    margin-top: -8px;
    padding-left: var(--spacing-md);
}

.detector-features-list {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-sm);
}

.detector-features-list span {
    font-size: 0.8rem;
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: 6px;
}

.detector-features-list i {
    color: var(--primary);
    font-size: 0.9rem;
}

/* Start Session Card - Improved */
.start-session-card {
    display: flex;
    align-items: center;
    justify-content: center;
}

.session-ready {
    text-align: center;
    width: 100%;
}

.session-ready > i {
    font-size: 3rem;
    color: var(--primary-light);
    margin-bottom: var(--spacing-md);
    display: block;
    animation: float 3s ease-in-out infinite;
}

.session-ready h3 {
    font-size: 1.3rem;
    color: var(--text-primary);
    margin-bottom: var(--spacing-sm);
    font-weight: 600;
}

.session-ready p {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: var(--spacing-xl);
    line-height: 1.6;
}

.btn-start-session {
    width: 100%;
    padding: var(--spacing-lg) var(--spacing-xl);
    background: linear-gradient(135deg, var(--primary), var(--accent));
    border: none;
    border-radius: var(--radius-md);
    color: white;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-md);
    box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
}

.btn-start-session i {
    font-size: 1.5rem;
}

.btn-start-session:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 30px rgba(99, 102, 241, 0.6);
}

.btn-start-session:active {
    transform: translateY(-1px);
}

/* Responsive */
@media (max-width: 900px) {
    .session-row {
        grid-template-columns: 1fr;
    }
}

/* =================================================================
   MINDMAP MAKER STYLES
   ================================================================= */

.mindmap-layout {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: var(--spacing-lg);
    height: calc(100vh - 200px);
    min-height: 600px;
}

.mindmap-sidebar {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.mindmap-controls-card,
.mindmap-saved-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);
}

.mindmap-controls-card h4,
.mindmap-saved-card h4 {
    font-size: 1rem;
    color: var(--text-primary);
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.mindmap-input-group {
    margin-bottom: var(--spacing-md);
}

.mindmap-input-group label {
    display: block;
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-bottom: var(--spacing-xs);
}

.mindmap-input-group input {
    width: 100%;
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 0.9rem;
}

.mindmap-input-group input:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.1);
}

.node-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-md);
}

.node-buttons button {
    padding: var(--spacing-sm);
    border-radius: var(--radius-sm);
    border: 1px solid rgba(255, 255, 255, 0.15);
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
    font-size: 0.8rem;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.node-buttons button:hover {
    background: rgba(99, 102, 241, 0.2);
    border-color: var(--primary);
}

.btn-root { border-color: #2196F3 !important; }
.btn-root:hover { background: rgba(33, 150, 243, 0.2) !important; }

.btn-branch { border-color: #4CAF50 !important; }
.btn-branch:hover { background: rgba(76, 175, 80, 0.2) !important; }

.btn-sub { border-color: #FF9800 !important; }
.btn-sub:hover { background: rgba(255, 152, 0, 0.2) !important; }

.btn-detail { border-color: #FFC107 !important; }
.btn-detail:hover { background: rgba(255, 193, 7, 0.2) !important; }

.action-buttons {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.action-buttons button {
    flex: 1;
    min-width: 80px;
    padding: var(--spacing-sm);
    border-radius: var(--radius-sm);
    border: none;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.btn-save {
    background: var(--gradient-1);
    color: white;
}

.btn-delete {
    background: rgba(239, 68, 68, 0.15);
    color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.3) !important;
}

.btn-delete:hover {
    background: rgba(239, 68, 68, 0.3);
}

.btn-clear {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-secondary);
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.btn-clear:hover {
    background: rgba(255, 255, 255, 0.1);
}

.selection-info {
    padding: var(--spacing-sm);
    background: rgba(99, 102, 241, 0.1);
    border-radius: var(--radius-sm);
    font-size: 0.8rem;
    color: var(--text-secondary);
    margin-bottom: var(--spacing-md);
    min-height: 36px;
    display: flex;
    align-items: center;
}

.selection-info .selected-label {
    color: var(--primary-light);
    margin-right: 6px;
}

.level-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.7rem;
    margin-left: 6px;
    font-weight: 600;
}

.level-badge.level-0 { background: rgba(33, 150, 243, 0.3); color: #64b5f6; }
.level-badge.level-1 { background: rgba(76, 175, 80, 0.3); color: #81c784; }
.level-badge.level-2 { background: rgba(255, 152, 0, 0.3); color: #ffb74d; }
.level-badge.level-3 { background: rgba(255, 193, 7, 0.3); color: #ffca28; }

.saved-mindmaps-list {
    max-height: 200px;
    overflow-y: auto;
}

.saved-mindmap-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-sm);
    margin-bottom: var(--spacing-xs);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.saved-mindmap-item:hover {
    background: rgba(99, 102, 241, 0.15);
}

.mindmap-item-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.mindmap-name {
    font-size: 0.9rem;
    color: var(--text-primary);
}

.mindmap-meta {
    font-size: 0.75rem;
    color: var(--text-tertiary);
}

.btn-delete-mindmap {
    width: 28px;
    height: 28px;
    border-radius: var(--radius-sm);
    border: none;
    background: rgba(239, 68, 68, 0.15);
    color: #ef4444;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
}

.btn-delete-mindmap:hover {
    background: rgba(239, 68, 68, 0.3);
}

/* Canvas Area */
.mindmap-canvas-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.canvas-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md) var(--spacing-lg);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.canvas-header h4 {
    font-size: 1rem;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.mindmap-legend {
    display: flex;
    gap: var(--spacing-md);
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.legend-dot.root { background: #2196F3; }
.legend-dot.branch { background: #4CAF50; }
.legend-dot.sub { background: #FF9800; }
.legend-dot.detail { background: #FFC107; }

.mindmap-canvas-container {
    flex: 1;
    position: relative;
    min-height: 500px;
    background: 
        radial-gradient(circle at 25% 25%, rgba(99, 102, 241, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 75% 75%, rgba(168, 85, 247, 0.05) 0%, transparent 50%),
        linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%);
}

#mindmapCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

#mindmapNodes {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.mindmap-node {
    position: absolute;
    padding: 10px 16px;
    border-radius: 10px;
    cursor: grab;
    user-select: none;
    transition: box-shadow 0.2s, transform 0.1s;
    font-size: 0.9rem;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    word-wrap: break-word;
}

.mindmap-node:hover {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    transform: scale(1.02);
}

.mindmap-node.selected {
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.8), 0 4px 20px rgba(99, 102, 241, 0.4);
}

.mindmap-node:active {
    cursor: grabbing;
}

.canvas-empty-state {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: var(--text-tertiary);
}

.canvas-empty-state i {
    font-size: 3rem;
    margin-bottom: var(--spacing-md);
    opacity: 0.5;
}

.canvas-empty-state p {
    font-size: 0.9rem;
    margin: 0;
}

/* =================================================================
   MOCK TEST STYLES
   ================================================================= */

.mock-test-layout {
    max-width: 900px;
    margin: 0 auto;
}

.mock-test-config {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
}

.config-header {
    text-align: center;
    margin-bottom: var(--spacing-xl);
}

.config-header h3 {
    font-size: 1.5rem;
    color: var(--text-primary);
    margin-bottom: var(--spacing-sm);
}

.config-header p {
    color: var(--text-secondary);
}

.config-form {
    display: grid;
    gap: var(--spacing-lg);
}

.form-group label {
    display: block;
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: var(--spacing-sm);
}

.form-group input,
.form-group select {
    width: 100%;
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 1rem;
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--primary);
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-md);
}

.question-types {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-sm);
}

.question-type-option {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.question-type-option:hover {
    background: rgba(99, 102, 241, 0.1);
}

.question-type-option input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--primary);
}

.generate-btn {
    width: 100%;
    padding: var(--spacing-md) var(--spacing-xl);
    background: var(--gradient-1);
    border: none;
    border-radius: var(--radius-sm);
    color: white;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-md);
}

.generate-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
}

/* Test Content */
.mock-test-content {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
}

.test-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-xl);
    padding-bottom: var(--spacing-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.test-header h3 {
    font-size: 1.3rem;
    color: var(--text-primary);
}

.test-timer {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--primary-light);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(99, 102, 241, 0.15);
    border-radius: var(--radius-sm);
}

.test-questions {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-xl);
}

.test-question {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    padding: var(--spacing-lg);
}

.question-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-md);
}

.question-number {
    background: var(--gradient-1);
    color: white;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
}

.question-type {
    background: rgba(168, 85, 247, 0.15);
    color: #c084fc;
    padding: 4px 10px;
    border-radius: 4px;
    font-size: 0.75rem;
}

.question-marks {
    margin-left: auto;
    color: var(--text-secondary);
    font-size: 0.85rem;
}

.question-text {
    font-size: 1rem;
    color: var(--text-primary);
    line-height: 1.6;
    margin-bottom: var(--spacing-md);
}

.mcq-options {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.mcq-option {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.mcq-option:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: rgba(99, 102, 241, 0.3);
}

.mcq-option input[type="radio"] {
    accent-color: var(--primary);
}

.answer-input {
    width: 100%;
    min-height: 100px;
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 0.95rem;
    resize: vertical;
}

.answer-input:focus {
    outline: none;
    border-color: var(--primary);
}

.test-actions {
    display: flex;
    justify-content: center;
    gap: var(--spacing-md);
}

.submit-btn {
    padding: var(--spacing-md) var(--spacing-2xl);
    background: linear-gradient(135deg, #10b981, #059669);
    border: none;
    border-radius: var(--radius-sm);
    color: white;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
}

.submit-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
}

/* Results */
.mock-test-results {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
}

.results-header {
    text-align: center;
    margin-bottom: var(--spacing-xl);
}

.results-header h3 {
    font-size: 1.5rem;
    margin-bottom: var(--spacing-lg);
}

.score-summary {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xl);
}

.score-circle {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 4px solid;
}

.score-circle.pass {
    border-color: #10b981;
    background: rgba(16, 185, 129, 0.1);
}

.score-circle.fail {
    border-color: #ef4444;
    background: rgba(239, 68, 68, 0.1);
}

.score-value {
    font-size: 2rem;
    font-weight: 700;
}

.score-grade {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.score-details {
    text-align: left;
    color: var(--text-secondary);
}

.score-details p {
    margin: var(--spacing-xs) 0;
}

.results-details {
    margin-top: var(--spacing-xl);
}

.results-details h4 {
    font-size: 1.1rem;
    margin-bottom: var(--spacing-md);
    color: var(--text-primary);
}

.result-item {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-md);
}

.result-item.correct {
    border-left: 3px solid #10b981;
}

.result-item.incorrect {
    border-left: 3px solid #ef4444;
}

.result-question {
    margin-bottom: var(--spacing-sm);
    color: var(--text-primary);
}

.result-answer {
    display: flex;
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-sm);
    font-size: 0.9rem;
}

.your-answer {
    color: var(--text-secondary);
}

.correct-answer {
    color: #10b981;
}

.result-explanation {
    font-size: 0.9rem;
    color: var(--text-secondary);
    padding: var(--spacing-sm);
    background: rgba(99, 102, 241, 0.05);
    border-radius: var(--radius-sm);
    margin-top: var(--spacing-sm);
}

.results-actions {
    text-align: center;
    margin-top: var(--spacing-xl);
}

/* =================================================================
   CHEAT SHEET STYLES
   ================================================================= */

.cheatsheet-layout {
    max-width: 900px;
    margin: 0 auto;
}

.cheatsheet-input-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
    margin-bottom: var(--spacing-lg);
}

.cheatsheet-form {
    display: flex;
    gap: var(--spacing-md);
    align-items: flex-end;
}

.cheatsheet-form .form-group {
    flex: 1;
}

.cheatsheet-form label {
    display: block;
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: var(--spacing-sm);
}

.cheatsheet-form input {
    width: 100%;
    padding: var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 1rem;
}

.cheatsheet-form input:focus {
    outline: none;
    border-color: var(--primary);
}

.cheatsheet-content-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
    min-height: 400px;
}

.cheatsheet-content-card h4 {
    font-size: 1.1rem;
    color: var(--text-primary);
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.cheatsheet-content {
    font-family: 'Courier New', monospace;
    font-size: 0.95rem;
    line-height: 1.8;
    color: var(--text-primary);
    white-space: pre-wrap;
}

.cheatsheet-content .section-divider {
    border: none;
    height: 2px;
    background: linear-gradient(90deg, var(--primary), var(--accent));
    margin: var(--spacing-lg) 0;
}

.cheatsheet-content .subsection-divider {
    border: none;
    height: 1px;
    background: rgba(255, 255, 255, 0.2);
    margin: var(--spacing-md) 0;
}

.cheatsheet-content .emoji {
    font-size: 1.1em;
    margin-right: var(--spacing-xs);
}

.cheatsheet-content .formula-box {
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: var(--radius-sm);
    padding: var(--spacing-md);
    margin: var(--spacing-md) 0;
    font-family: 'Courier New', monospace;
}

.cheatsheet-content .bullet {
    color: var(--primary-light);
}

.loading-state,
.error-state {
    text-align: center;
    padding: var(--spacing-2xl);
    color: var(--text-secondary);
}

.loading-state i {
    font-size: 2rem;
    margin-bottom: var(--spacing-md);
    display: block;
}

.error-state {
    color: #ef4444;
}

.empty-state {
    text-align: center;
    color: var(--text-tertiary);
    font-size: 0.9rem;
    padding: var(--spacing-lg);
}

/* =================================================================
   TOAST NOTIFICATIONS
   ================================================================= */

.toast-notification {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    padding: var(--spacing-md) var(--spacing-xl);
    background: rgba(30, 41, 59, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    font-size: 0.95rem;
    z-index: 10000;
    opacity: 0;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.toast-notification.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

.toast-success {
    border-color: rgba(16, 185, 129, 0.5);
    background: rgba(16, 185, 129, 0.15);
}

.toast-error {
    border-color: rgba(239, 68, 68, 0.5);
    background: rgba(239, 68, 68, 0.15);
}

/* Responsive Mindmap */
@media (max-width: 900px) {
    .mindmap-layout {
        grid-template-columns: 1fr;
        height: auto;
    }
    
    .mindmap-sidebar {
        flex-direction: row;
        flex-wrap: wrap;
    }
    
    .mindmap-controls-card,
    .mindmap-saved-card {
        flex: 1;
        min-width: 280px;
    }
    
    .form-row {
        grid-template-columns: 1fr;
    }
}

/* =================================================================
   MINDMAP MAKER - PROFESSIONAL REDESIGN
   ================================================================= */

.mindmap-fullscreen-body {
    padding: 0 !important;
    height: calc(100vh - 120px);
    background: transparent;
}

.mindmap-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 0;
    height: 100%;
    background: transparent;
}

/* Sidebar - Match Dashboard Style */
.mindmap-sidebar {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg) 0 0 var(--radius-lg);
    padding: var(--spacing-lg);
    display: flex;
    flex-direction: column;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.mindmap-sidebar .sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-md);
    padding-bottom: var(--spacing-md);
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
}

.mindmap-sidebar h3 {
    font-size: 1.1rem;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 600;
}

.mindmap-count {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    box-shadow: 0 2px 10px rgba(99, 102, 241, 0.3);
}

.saved-mindmaps-list {
    flex: 1;
    overflow-y: auto;
    margin-top: var(--spacing-sm);
}

.saved-mindmap-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    margin-bottom: var(--spacing-sm);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.saved-mindmap-item:hover {
    background: rgba(99, 102, 241, 0.15);
    border-color: rgba(99, 102, 241, 0.3);
    transform: translateX(4px);
}

.mindmap-item-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
}

.mindmap-name {
    font-size: 0.9rem;
    color: var(--text-primary);
    font-weight: 500;
}

.mindmap-meta {
    font-size: 0.75rem;
    color: var(--text-tertiary);
}

.btn-delete-mindmap {
    width: 32px;
    height: 32px;
    border-radius: var(--radius-sm);
    border: none;
    background: rgba(239, 68, 68, 0.15);
    color: #ef4444;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    transition: all var(--transition-normal);
}

.btn-delete-mindmap:hover {
    background: rgba(239, 68, 68, 0.3);
    transform: scale(1.1);
}

/* Main Canvas Area - Professional Grid Background */
.mindmap-main {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
    box-shadow: inset 0 2px 20px rgba(0, 0, 0, 0.2);
}

/* Controls Panel - REDUCED HEIGHT */
.mindmap-controls {
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.control-row {
    display: flex;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-xs);
    align-items: center;
}

.control-row:last-child {
    margin-bottom: 0;
}

.control-row .tool-input {
    flex: 1;
    padding: 6px var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 0.85rem;
    transition: all var(--transition-normal);
}

.control-row .tool-input:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.1);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.buttons-row {
    flex-wrap: wrap;
}

/* Node Buttons - SMALLER */
.btn-node {
    padding: 6px var(--spacing-sm);
    border-radius: var(--radius-sm);
    border: 1.5px solid;
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-primary);
    font-size: 0.75rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    gap: 4px;
    min-width: 70px;
    justify-content: center;
}

.btn-node:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.btn-node:active {
    transform: translateY(0);
}

.btn-root { 
    border-color: #2196F3; 
    color: #64b5f6;
    background: rgba(33, 150, 243, 0.1);
}
.btn-root:hover { 
    background: rgba(33, 150, 243, 0.25);
    box-shadow: 0 4px 20px rgba(33, 150, 243, 0.4);
}

.btn-level1,
.btn-branch { 
    border-color: #4CAF50; 
    color: #81c784;
    background: rgba(76, 175, 80, 0.1);
}
.btn-level1:hover,
.btn-branch:hover { 
    background: rgba(76, 175, 80, 0.25);
    box-shadow: 0 4px 20px rgba(76, 175, 80, 0.4);
}

.btn-level2,
.btn-sub { 
    border-color: #FF9800; 
    color: #ffb74d;
    background: rgba(255, 152, 0, 0.1);
}
.btn-level2:hover,
.btn-sub:hover { 
    background: rgba(255, 152, 0, 0.25);
    box-shadow: 0 4px 20px rgba(255, 152, 0, 0.4);
}

.btn-level3,
.btn-detail { 
    border-color: #FFC107; 
    color: #ffca28;
    background: rgba(255, 193, 7, 0.1);
}
.btn-level3:hover,
.btn-detail:hover { 
    background: rgba(255, 193, 7, 0.25);
    box-shadow: 0 4px 20px rgba(255, 193, 7, 0.4);
}

/* Action Buttons - SMALLER */
.btn-save {
    flex: 1;
    padding: 6px var(--spacing-sm);
    background: linear-gradient(135deg, var(--primary), var(--accent));
    border: none;
    border-radius: var(--radius-sm);
    color: white;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
}

.btn-save:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 25px rgba(99, 102, 241, 0.5);
}

.btn-delete {
    padding: 6px var(--spacing-sm);
    background: rgba(239, 68, 68, 0.15);
    color: #ef4444;
    border: 1.5px solid rgba(239, 68, 68, 0.4);
    border-radius: var(--radius-sm);
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
}

.btn-delete:hover {
    background: rgba(239, 68, 68, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(239, 68, 68, 0.4);
}

.btn-clear {
    padding: 6px var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-secondary);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-sm);
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-normal);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
}

.btn-clear:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.mindmap-name-input {
    padding: 6px var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-size: 0.8rem;
    flex: 1;
    transition: all var(--transition-normal);
}

.mindmap-name-input:focus {
    outline: none;
    border-color: var(--primary);
    background: rgba(99, 102, 241, 0.1);
}

.selection-info {
    padding: 6px var(--spacing-sm);
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    color: var(--text-secondary);
    min-height: 32px;
    display: flex;
    align-items: center;
    flex: 1;
}

.selection-info .selected-label {
    color: var(--primary-light);
    font-weight: 600;
    margin-right: 6px;
}

.level-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.65rem;
    margin-left: 6px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.level-badge.level-0 { background: rgba(33, 150, 243, 0.3); color: #64b5f6; }
.level-badge.level-1 { background: rgba(76, 175, 80, 0.3); color: #81c784; }
.level-badge.level-2 { background: rgba(255, 152, 0, 0.3); color: #ffb74d; }
.level-badge.level-3 { background: rgba(255, 193, 7, 0.3); color: #ffca28; }

/* Professional Grid Canvas */
.mindmap-canvas-container {
    flex: 1;
    position: relative;
    overflow: hidden;
    background: 
        linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(rgba(255, 255, 255, 0.01) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.01) 1px, transparent 1px),
        radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(168, 85, 247, 0.08) 0%, transparent 50%),
        linear-gradient(135deg, rgba(15, 23, 42, 0.98) 0%, rgba(30, 41, 59, 0.98) 100%);
    background-size: 
        20px 20px,
        20px 20px,
        100px 100px,
        100px 100px,
        100% 100%,
        100% 100%,
        100% 100%;
    background-position: 
        -1px -1px,
        -1px -1px,
        -1px -1px,
        -1px -1px,
        0 0,
        0 0,
        0 0;
}

#mindmapCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

#mindmapNodes {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
}

/* Mindmap Nodes - Professional Style */
.mindmap-node {
    position: absolute;
    padding: 12px 20px;
    border-radius: 12px;
    cursor: grab;
    user-select: none;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 0.9rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    word-wrap: break-word;
    box-shadow: 
        0 4px 15px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border: 2px solid;
}

.mindmap-node.level-0 {
    background: linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(33, 150, 243, 0.4));
    border-color: #2196F3;
    color: #e3f2fd;
    font-size: 1.1rem;
    padding: 16px 24px;
    box-shadow: 
        0 6px 25px rgba(33, 150, 243, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.mindmap-node.level-1 {
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.4));
    border-color: #4CAF50;
    color: #e8f5e9;
}

.mindmap-node.level-2 {
    background: linear-gradient(135deg, rgba(255, 152, 0, 0.2), rgba(255, 152, 0, 0.4));
    border-color: #FF9800;
    color: #fff3e0;
}

.mindmap-node.level-3 {
    background: linear-gradient(135deg, rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.4));
    border-color: #FFC107;
    color: #fffde7;
    font-size: 0.85rem;
}

.mindmap-node:hover {
    transform: scale(1.05) translateY(-2px);
    box-shadow: 
        0 8px 30px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.mindmap-node.selected {
    box-shadow: 
        0 0 0 3px rgba(99, 102, 241, 1),
        0 8px 30px rgba(99, 102, 241, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: scale(1.08);
}

.mindmap-node:active {
    cursor: grabbing;
}

/* Empty State - Professional */
.canvas-empty-state {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: var(--text-tertiary);
    max-width: 450px;
    z-index: 10;
}

.canvas-empty-state i {
    font-size: 4rem;
    margin-bottom: var(--spacing-lg);
    opacity: 0.3;
    color: var(--primary);
    animation: float 3s ease-in-out infinite;
}

.canvas-empty-state h3 {
    font-size: 1.3rem;
    color: var(--text-secondary);
    margin-bottom: var(--spacing-sm);
    font-weight: 600;
}

.canvas-empty-state p {
    font-size: 0.95rem;
    margin-bottom: var(--spacing-lg);
    color: var(--text-tertiary);
}

.canvas-empty-state .tips {
    text-align: left;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--radius-md);
    font-size: 0.85rem;
}

.canvas-empty-state .tips strong {
    color: var(--primary-light);
    display: block;
    margin-bottom: var(--spacing-sm);
}

.canvas-empty-state .tips ul {
    margin: var(--spacing-sm) 0 0 var(--spacing-md);
    padding: 0;
    list-style: none;
}

.canvas-empty-state .tips li {
    margin: var(--spacing-xs) 0;
    color: var(--text-secondary);
    padding-left: var(--spacing-md);
    position: relative;
}

.canvas-empty-state .tips li:before {
    content: '';
    position: absolute;
    left: 0;
    color: var(--primary);
}

/* Legend - SMALLER */
.mindmap-legend {
    display: flex;
    gap: var(--spacing-md);
    padding: 6px var(--spacing-md);
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(20px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    justify-content: center;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.7rem;
    color: var(--text-secondary);
    font-weight: 500;
}

.legend-color {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    border: 2px solid rgba(255, 255, 255, 0.2);
}

.legend-color.root { background: linear-gradient(135deg, #2196F3, #1976D2); }
.legend-color.branch { background: linear-gradient(135deg, #4CAF50, #388E3C); }
.legend-color.sub { background: linear-gradient(135deg, #FF9800, #F57C00); }
.legend-color.detail { background: linear-gradient(135deg, #FFC107, #FFA000); }

/* Mock Test Checkbox Styles */
.checkbox-group {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-sm);
}

/* =================================================================
   SOCIAL PAGE STYLES
   ================================================================= */

/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    animation: fadeIn 0.2s ease;
}

.modal-content {
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    border-radius: var(--border-radius-lg);
    animation: slideUp 0.3s ease;
}

.dm-modal {
    max-width: 600px;
    max-height: 80vh;
    display: flex;
    flex-direction: column;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-lg);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.modal-header h3 {
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-size: 1.25rem;
}

.modal-close {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-size: 1.5rem;
    cursor: pointer;
    padding: var(--spacing-xs);
    border-radius: var(--border-radius-sm);
    transition: all 0.2s ease;
}

.modal-close:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

.modal-body {
    padding: var(--spacing-lg);
}

.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: var(--spacing-sm);
    padding: var(--spacing-lg);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.form-group {
    margin-bottom: var(--spacing-md);
}

.form-group label {
    display: block;
    margin-bottom: var(--spacing-xs);
    color: var(--text-secondary);
    font-size: 0.9rem;
    font-weight: 500;
}

.modal-input {
    width: 100%;
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius-sm);
    color: var(--text-primary);
    font-size: 0.95rem;
    transition: all 0.2s ease;
}

.modal-input:focus {
    outline: none;
    border-color: var(--accent);
    background: rgba(255, 255, 255, 0.08);
}

.friend-checkboxes {
    max-height: 200px;
    overflow-y: auto;
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.02);
    border-radius: var(--border-radius-sm);
}

.checkbox-item {
    display: flex;
    align-items: center;
    padding: var(--spacing-xs);
    cursor: pointer;
    border-radius: var(--border-radius-sm);
    transition: background 0.2s ease;
}

.checkbox-item:hover {
    background: rgba(255, 255, 255, 0.05);
}

.checkbox-item input[type="checkbox"] {
    margin-right: var(--spacing-sm);
    cursor: pointer;
}

/* Friend List Styles */
.friend-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    cursor: pointer;
    transition: all 0.2s ease;
}

.friend-item:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateX(4px);
}

.friend-avatar, .friend-avatar-small {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: white;
    flex-shrink: 0;
}

.friend-avatar-small {
    width: 32px;
    height: 32px;
    font-size: 0.8rem;
}

.friend-info {
    flex: 1;
    min-width: 0;
}

.friend-info h4 {
    margin: 0 0 4px 0;
    font-size: 0.95rem;
}

.friend-info p {
    margin: 0;
    font-size: 0.8rem;
    color: var(--text-tertiary);
}

.online-status {
    color: #4CAF50 !important;
}

.online-status i {
    font-size: 0.5rem;
    animation: pulse 2s infinite;
}

.offline-status {
    color: var(--text-tertiary) !important;
}

.btn-icon-small {
    padding: 6px 10px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius-sm);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-icon-small:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--accent);
}

/* Direct Messages Styles */
.dm-messages {
    flex: 1;
    overflow-y: auto;
    padding: var(--spacing-lg);
    background: rgba(0, 0, 0, 0.2);
    min-height: 400px;
    max-height: 500px;
}

.dm-message {
    margin-bottom: var(--spacing-md);
    animation: slideUp 0.2s ease;
}

.dm-message.sent {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.dm-message.received {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.dm-message p {
    margin: 0;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--border-radius-md);
    max-width: 70%;
    word-wrap: break-word;
}

.dm-message.sent p {
    background: linear-gradient(135deg, var(--accent), var(--accent-hover));
    color: white;
}

.dm-message.received p {
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
}

.dm-time {
    font-size: 0.7rem;
    color: var(--text-tertiary);
    margin-top: 4px;
}

.dm-input-area {
    display: flex;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.dm-input {
    flex: 1;
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius-sm);
    color: var(--text-primary);
}

.btn-send {
    padding: var(--spacing-sm) var(--spacing-md);
    background: linear-gradient(135deg, var(--accent), var(--accent-hover));
    border: none;
    border-radius: var(--border-radius-sm);
    color: white;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-send:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(var(--accent-rgb), 0.4);
}

.empty-dm-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: var(--text-tertiary);
}

.empty-dm-state i {
    font-size: 3rem;
    margin-bottom: var(--spacing-md);
    opacity: 0.3;
}

/* Study Groups Styles */
.group-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    cursor: pointer;
    transition: all 0.2s ease;
}

.group-item:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateX(4px);
}

.group-icon {
    width: 45px;
    height: 45px;
    border-radius: var(--border-radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: white;
    flex-shrink: 0;
}

.group-info {
    flex: 1;
}

.group-info h4 {
    margin: 0 0 4px 0;
    font-size: 0.95rem;
}

.group-info p {
    margin: 0;
    font-size: 0.8rem;
    color: var(--text-tertiary);
}

/* Message List Styles */
.message-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.message-item:hover {
    background: rgba(255, 255, 255, 0.05);
}

.message-item.unread {
    background: rgba(var(--accent-rgb), 0.1);
}

.message-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: white;
    flex-shrink: 0;
}

.message-content {
    flex: 1;
    min-width: 0;
}

.message-content h4 {
    margin: 0 0 4px 0;
    font-size: 0.95rem;
}

.message-content p {
    margin: 0;
    font-size: 0.85rem;
    color: var(--text-tertiary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.message-badge {
    position: absolute;
    top: 8px;
    right: 8px;
    background: var(--accent);
    color: white;
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 10px;
    font-weight: 600;
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: var(--spacing-xl);
    color: var(--text-tertiary);
}

.empty-state i {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-md);
    opacity: 0.3;
}

/* Gradients for avatars */
.gradient-bg-1 {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.gradient-bg-2 {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.gradient-bg-3 {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.gradient-bg-4 {
    background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
}

.gradient-bg-5 {
    background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* =================================================================
   NOTIFICATION PANEL
   ================================================================= */
.notification-panel {
    position: fixed;
    top: 70px;
    right: 20px;
    width: 380px;
    max-height: 600px;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
    z-index: 10000;
    overflow: hidden;
}

.notification-panel-header {
    padding: 16px 20px;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.notification-panel-header h3 {
    margin: 0;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-clear-notifs {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 6px 12px;
    border-radius: 6px;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s ease;
}

.btn-clear-notifs:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
}

.notification-list {
    max-height: 500px;
    overflow-y: auto;
}

.notification-item {
    padding: 16px 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    display: flex;
    gap: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.notification-item:hover {
    background: rgba(255, 255, 255, 0.05);
}

.notification-item.unread {
    background: rgba(99, 102, 241, 0.1);
}

.notif-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent), var(--accent-hover));
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.notif-content {
    flex: 1;
    min-width: 0;
}

.notif-content h4 {
    margin: 0 0 4px 0;
    font-size: 0.95rem;
    color: var(--text-primary);
}

.notif-content p {
    margin: 0 0 6px 0;
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.4;
}

.notif-time {
    font-size: 0.75rem;
    color: var(--text-tertiary);
}

.empty-notif-state {
    padding: 60px 20px;
    text-align: center;
    color: var(--text-tertiary);
}

.empty-notif-state i {
    font-size: 3rem;
    opacity: 0.3;
    margin-bottom: 16px;
}

.notification-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    background: #ef4444;
    color: white;
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 10px;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 18px;
}

/* =================================================================
   TOAST NOTIFICATIONS
   ================================================================= */
.toast-notification {
    position: fixed;
    top: 80px;
    right: 20px;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(10px);
    color: white;
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--border-radius-lg);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    z-index: 10001;
    opacity: 0;
    transform: translateX(400px);
    transition: all 0.3s ease;
}

.toast-notification.show {
    opacity: 1;
    transform: translateX(0);
}

.toast-notification i {
    font-size: 1.2rem;
}

.toast-success {
    border-left: 4px solid #4CAF50;
}

.toast-success i {
    color: #4CAF50;
}

.toast-error {
    border-left: 4px solid #f44336;
}

.toast-error i {
    color: #f44336;
}

.toast-warning {
    border-left: 4px solid #ff9800;
}

.toast-warning i {
    color: #ff9800;
}

.toast-info {
    border-left: 4px solid #2196F3;
}

.toast-info i {
    color: #2196F3;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.03);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.checkbox-label:hover {
    background: rgba(99, 102, 241, 0.1);
}

.checkbox-label input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--primary);
}

.btn-large {
    width: 100%;
    padding: var(--spacing-md) var(--spacing-xl);
    font-size: 1.1rem;
    margin-top: var(--spacing-md);
}

.test-header-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-xl);
    padding-bottom: var(--spacing-md);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.test-header-bar h3 {
    font-size: 1.3rem;
    color: var(--text-primary);
}

.test-timer {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--primary-light);
    padding: var(--spacing-sm) var(--spacing-md);
    background: rgba(99, 102, 241, 0.15);
    border-radius: var(--radius-sm);
}

/* Cheat Sheet Additional Styles */
.cheatsheet-input-area {
    display: flex;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    align-items: center;
}

.cheatsheet-input-area .tool-input {
    flex: 1;
    padding: var(--spacing-md);
}

.cheat-sheet-preview {
    min-height: 400px;
    padding: var(--spacing-xl);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
}

.cheat-sheet-preview .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 300px;
    color: var(--text-tertiary);
}

.cheat-sheet-preview .empty-state i {
    font-size: 3rem;
    margin-bottom: var(--spacing-md);
    opacity: 0.5;
}

/* Responsive */
@media (max-width: 900px) {
    .mindmap-layout {
        grid-template-columns: 1fr;
    }
    
    .mindmap-sidebar {
        border-right: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        max-height: 200px;
    }
    
    .checkbox-group {
        grid-template-columns: 1fr;
    }
    
    .cheatsheet-input-area {
        flex-direction: column;
    }
}

/* =================================================================
   CHECKLIST SYSTEM
   ================================================================= */
.checklist-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.checklist-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: var(--border-radius-sm);
    transition: all 0.2s ease;
}

.checklist-item:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(255, 255, 255, 0.1);
}

.checklist-item input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 6px;
    cursor: pointer;
    position: relative;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.checklist-item input[type="checkbox"]:checked {
    background: linear-gradient(135deg, #10b981, #059669);
    border-color: #10b981;
}

.checklist-item input[type="checkbox"]:checked::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 14px;
    font-weight: bold;
}

.checklist-text {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--text-primary);
    font-size: 0.95rem;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.checklist-text:hover {
    background: rgba(255, 255, 255, 0.05);
}

.checklist-text:focus {
    outline: none;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid var(--accent);
}

.checklist-text.checked {
    text-decoration: line-through;
    opacity: 0.5;
}

.btn-delete-checklist {
    background: transparent;
    border: none;
    color: rgba(255, 255, 255, 0.3);
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 6px;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.btn-delete-checklist:hover {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.empty-state {
    text-align: center;
    padding: 2rem;
    color: var(--text-tertiary);
}

.empty-state i {
    font-size: 2rem;
    margin-bottom: 1rem;
    opacity: 0.3;
    display: block;
}

/* =================================================================
   XP & LEVEL UP NOTIFICATIONS
   ================================================================= */
@keyframes slideInRight {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

@keyframes scaleIn {
    from {
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 0;
    }
    to {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
}

.xp-notification {
    min-width: 200px;
}

.xp-notif-content {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1.1rem;
    margin-bottom: 0.25rem;
}

.xp-notif-content i {
    font-size: 1.5rem;
    animation: pulse 1s infinite;
}

.xp-notif-activity {
    font-size: 0.85rem;
    opacity: 0.9;
    font-weight: 400;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
    }
}

.levelup-notification {
    min-width: 300px;
}

.levelup-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.levelup-content i {
    font-size: 3rem;
    animation: bounce 0.8s infinite;
}

.levelup-content h3 {
    font-size: 1.8rem;
    margin: 0;
    letter-spacing: 2px;
}

.levelup-content p {
    font-size: 1.1rem;
    margin: 0;
    opacity: 0.9;
}

@keyframes bounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
}

/* Language Selector */
.lang-select {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-primary);
    padding: 0.5rem 1rem;
    border-radius: var(--radius-sm);
    outline: none;
    cursor: pointer;
    backdrop-filter: blur(10px);
    font-family: inherit;
    transition: var(--transition-normal);
}

.lang-select:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: var(--primary);
}

.lang-select option {
    background: var(--bg-secondary);
    color: var(--text-primary);
}

/* Viksit Bharat Badge in Navbar */
.viksit-nav-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 1rem;
    background: linear-gradient(90deg, #FF993333, #FFFFFF33, #13880833);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-sm);
    margin-right: 1rem;
    cursor: default;
    border-left: 2px solid #FF9933;
    border-right: 2px solid #138808;
}

.vb-icon {
    font-size: 1.2rem;
}

.vb-text {
    font-size: 0.9rem;
    font-weight: 600;
    background: linear-gradient(90deg, #FF9933, #ffffff, #138808);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

@media (max-width: 768px) {
    .viksit-nav-badge {
        display: none;
    }
}


/* Language Selector in Profile Settings */
.setting-item select.language-selector {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: var(--text-primary);
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    outline: none;
    cursor: pointer;
    font-family: inherit;
    font-size: 0.95rem;
    transition: var(--transition-normal);
    min-width: 120px;
}

.setting-item select.language-selector:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--primary);
}

.setting-item select.language-selector:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.setting-item select.language-selector option {
    background: var(--bg-secondary);
    color: var(--text-primary);
    padding: 0.5rem;
}

/* Adjust setting-item flex for language selector */
.setting-item:has(select.language-selector) {
    display: flex;
    justify-content: space-between;
    align-items: center;
}


/* Chapter Loaded Badge */
.chapter-loaded-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(168, 85, 247, 0.2));
    border: 1px solid rgba(99, 102, 241, 0.4);
    border-radius: 12px;
    color: var(--primary-light);
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    animation: slideInDown 0.3s ease;
}

.chapter-loaded-badge i {
    font-size: 1.1rem;
    color: var(--primary);
}

@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}


/* =================================================================
   OUTPUT CONTROLS & FOLLOW-UP SUGGESTIONS
   ================================================================= */

.output-controls-bar {
    padding: 12px 20px;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    margin-bottom: 15px;
}

.output-controls-container {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    align-items: center;
}

.output-control-select {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: var(--text-primary);
    padding: 8px 12px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    outline: none;
    min-width: 120px;
}

.output-control-select:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--primary);
}

.output-control-select:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.output-control-select option {
    background: var(--bg-secondary);
    color: var(--text-primary);
}

/* Follow-up Suggestions */
.follow-up-suggestions {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.follow-up-header {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--text-secondary);
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.follow-up-header svg {
    color: var(--primary);
}

.follow-up-buttons {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.follow-up-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: var(--text-primary);
    padding: 10px 15px;
    text-align: left;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.follow-up-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
    transition: left 0.5s ease;
}

.follow-up-btn:hover::before {
    left: 100%;
}

.follow-up-btn:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: var(--primary);
    transform: translateX(5px);
}

.follow-up-btn:active {
    transform: translateX(5px) scale(0.98);
}

/* Error message styling */
.message-bubble.error-message {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    border-radius: 12px;
    padding: 16px;
}

/* =================================================================
   MARKDOWN FORMATTING STYLES
   ================================================================= */

.message-bubble h1,
.message-bubble h2,
.message-bubble h3,
.message-bubble h4,
.message-bubble h5,
.message-bubble h6 {
    color: var(--primary);
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    font-weight: 600;
}

.message-bubble h1 { font-size: 1.5em; }
.message-bubble h2 { font-size: 1.3em; }
.message-bubble h3 { font-size: 1.2em; }
.message-bubble h4 { font-size: 1.1em; }

.message-bubble p {
    margin: 1em 0;
    line-height: 1.6;
}

.message-bubble ul,
.message-bubble ol {
    margin: 1em 0;
    padding-left: 2em;
}

.message-bubble li {
    margin: 0.5em 0;
    line-height: 1.5;
}

.message-bubble code {
    background: rgba(0, 0, 0, 0.2);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.9em;
}

.message-bubble pre {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 1em;
    margin: 1em 0;
    overflow-x: auto;
}

.message-bubble pre code {
    background: none;
    padding: 0;
    border-radius: 0;
}

.message-bubble blockquote {
    border-left: 4px solid var(--primary);
    padding-left: 1em;
    margin: 1em 0;
    color: rgba(255, 255, 255, 0.8);
    font-style: italic;
}

.message-bubble table {
    border-collapse: collapse;
    margin: 1em 0;
    width: 100%;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
    overflow: hidden;
}

.message-bubble thead {
    background: rgba(99, 102, 241, 0.2);
}

.message-bubble th,
.message-bubble td {
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 10px 14px;
    text-align: left;
}

.message-bubble th {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.95);
    background: rgba(99, 102, 241, 0.15);
}

.message-bubble td {
    color: rgba(255, 255, 255, 0.85);
}

.message-bubble tbody tr:hover {
    background: rgba(255, 255, 255, 0.05);
}

.message-bubble th {
    background: rgba(255, 255, 255, 0.1);
    font-weight: 600;
}

.message-bubble a {
    color: var(--primary);
    text-decoration: none;
}

.message-bubble a:hover {
    text-decoration: underline;
}

/* Math rendering (for LaTeX) */
.message-bubble .katex {
    font-size: 1.1em;
}

.message-bubble .katex-display {
    margin: 1.5em 0;
    text-align: center;
    overflow-x: auto;
}

.message-bubble .katex-display > .katex {
    display: inline-block;
}

.math-error {
    color: #ef4444;
    background: rgba(239, 68, 68, 0.1);
    padding: 4px 8px;
    border-radius: 4px;
    font-family: monospace;
}

/* =================================================================
   GAMES LAB
   ================================================================= */

.games-hero {
    display: grid;
    grid-template-columns: 1.4fr 1fr;
    gap: var(--spacing-2xl);
    padding: var(--spacing-2xl);
    margin-bottom: var(--spacing-2xl);
    align-items: center;
    position: relative;
    overflow: hidden;
}

.games-hero::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 20% 20%, rgba(99, 102, 241, 0.35), transparent 50%),
                radial-gradient(circle at 80% 10%, rgba(236, 72, 153, 0.35), transparent 45%),
                radial-gradient(circle at 70% 80%, rgba(56, 189, 248, 0.35), transparent 45%);
    opacity: 0.9;
    pointer-events: none;
}

.games-hero-text {
    position: relative;
    z-index: 1;
}

.games-hero-text h2 {
    font-size: clamp(2rem, 3vw, 3rem);
    margin: var(--spacing-md) 0;
}

.games-hero-actions {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.games-hero-visual {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    z-index: 1;
}

.hero-orbit {
    width: 260px;
    height: 260px;
    position: relative;
}

.hero-orbit-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.25);
    animation: orbitSpin 12s linear infinite;
}

.hero-orbit-ring.ring-2 {
    inset: 18px;
    animation-duration: 18s;
}

.hero-orbit-ring.ring-3 {
    inset: 40px;
    animation-duration: 24s;
}

.hero-orbit-core {
    position: absolute;
    inset: 70px;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(79, 70, 229, 0.85), rgba(236, 72, 153, 0.85));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    color: #fff;
    box-shadow: 0 20px 60px rgba(79, 70, 229, 0.35);
}

@keyframes orbitSpin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.games-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-2xl);
}

.game-card {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
    padding: var(--spacing-lg);
    cursor: pointer;
}

.game-card-art {
    height: 140px;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    color: #fff;
    box-shadow: 0 16px 40px rgba(0, 0, 0, 0.35);
}

.game-card-content {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.game-card-header {
    display: flex;
    justify-content: space-between;
    gap: var(--spacing-sm);
    align-items: baseline;
}

.game-card h3 {
    margin: 0;
}

.game-tag {
    font-size: 0.75rem;
    padding: 4px 10px;
    border-radius: 999px;
    background: rgba(255, 255, 255, 0.12);
    color: var(--text-secondary);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.game-card-actions {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.game-fullscreen {
    position: fixed;
    inset: 0;
    z-index: 999;
    background: rgba(5, 6, 15, 0.95);
    display: none;
    overflow-y: auto;
    padding-top: 80px;
}

.game-fullscreen[style*="display: block"] {
    animation: fadeIn 0.3s ease;
}

.game-fullscreen::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 30% 20%, rgba(79, 70, 229, 0.2), transparent 40%),
                radial-gradient(circle at 80% 80%, rgba(236, 72, 153, 0.2), transparent 40%);
    pointer-events: none;
}

.game-detail-body,
.game-play-body {
    margin: 0 var(--spacing-lg) var(--spacing-lg);
    position: relative;
    z-index: 1;
}

.game-detail-hero {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
    align-items: center;
}

.game-detail-art {
    height: 280px;
    border-radius: var(--radius-xl);
    background: linear-gradient(135deg, rgba(79, 70, 229, 0.8), rgba(56, 189, 248, 0.8));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3rem;
    color: #fff;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
}

.game-detail-meta {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
    margin: var(--spacing-md) 0;
}

.game-meta-chip {
    padding: 6px 12px;
    border-radius: 999px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-secondary);
    font-size: 0.8rem;
}

.game-detail-actions {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.game-detail-sections {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: var(--spacing-lg);
}

.game-detail-section {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.15);
}

.game-play-layout {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: var(--spacing-lg);
}

.game-panel {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.15);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.game-canvas-panel {
    position: relative;
    border-radius: var(--radius-lg);
    overflow: hidden;
    background: rgba(5, 6, 15, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.12);
    min-height: 520px;
}

.game-canvas-panel canvas {
    width: 100%;
    height: 100%;
    display: block;
}

.game-section-title {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 600;
}

.game-input,
.game-select,
.game-textarea {
    width: 100%;
    padding: 10px 12px;
    border-radius: var(--radius-sm);
    border: 1px solid rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
}

.game-input::placeholder,
.game-textarea::placeholder {
    color: var(--text-tertiary);
}

.game-inline {
    display: flex;
    gap: var(--spacing-sm);
}

.game-inline > * {
    flex: 1;
}

.leaderboard-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.leaderboard-item {
    display: flex;
    justify-content: space-between;
    padding: 10px 14px;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.08);
}

.quiz-question-box {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.15);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.quiz-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--spacing-sm);
}

.quiz-option {
    padding: 12px 14px;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.18);
    background: rgba(255, 255, 255, 0.08);
    cursor: pointer;
    transition: var(--transition-normal);
}

.quiz-option:hover {
    transform: translateY(-2px);
    border-color: rgba(255, 255, 255, 0.35);
}

.quiz-option.selected {
    border-color: var(--accent);
    box-shadow: 0 12px 24px rgba(139, 92, 246, 0.25);
}

.memory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: var(--spacing-sm);
}

.memory-card {
    height: 120px;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 10px;
    cursor: pointer;
    transition: var(--transition-normal);
    position: relative;
}

.memory-card.revealed,
.memory-card.matched {
    background: rgba(79, 70, 229, 0.2);
    border-color: rgba(79, 70, 229, 0.6);
}

.sim-category-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-md);
}

.sim-category-card {
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    background: rgba(255, 255, 255, 0.07);
    border: 1px solid rgba(255, 255, 255, 0.18);
    cursor: pointer;
    transition: var(--transition-normal);
}

.sim-category-card:hover {
    transform: translateY(-4px);
    border-color: rgba(255, 255, 255, 0.4);
}

.sim-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

.sim-list-item {
    padding: 12px 16px;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.14);
    cursor: pointer;
    transition: var(--transition-normal);
}

.sim-list-item:hover {
    transform: translateY(-2px);
    border-color: rgba(255, 255, 255, 0.35);
}

.sim-status {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.sim-canvas-overlay {
    position: absolute;
    top: var(--spacing-sm);
    left: var(--spacing-sm);
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
    z-index: 2;
    pointer-events: none;
}

.sim-badge {
    padding: 6px 12px;
    border-radius: 999px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(34, 211, 238, 0.2));
    border: 1px solid rgba(139, 92, 246, 0.4);
    font-size: 0.75rem;
    font-weight: 500;
    color: #fff;
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.sim-info-overlay {
    position: absolute;
    bottom: var(--spacing-md);
    right: var(--spacing-md);
    z-index: 2;
    pointer-events: none;
}

.sim-info-box {
    padding: 12px 16px;
    border-radius: var(--radius-md);
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    font-size: 0.85rem;
    color: var(--text-primary);
}

.sim-stats {
    background: rgba(139, 92, 246, 0.1);
    border: 1px solid rgba(139, 92, 246, 0.3);
}

.sim-stats div {
    display: flex;
    justify-content: space-between;
    padding: 4px 0;
    font-size: 0.9rem;
}

.sim-stats div + div {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.sim-graph {
    width: 100%;
    height: 160px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.15);
}

/* ========== Gamified Simulator Controls ========== */
.sim-controls-panel {
    background: linear-gradient(145deg, rgba(15, 20, 40, 0.95), rgba(20, 10, 50, 0.9)) !important;
    border: 1px solid rgba(139, 92, 246, 0.35) !important;
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.08);
    position: relative;
    overflow: hidden;
}

.sim-controls-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, #8b5cf6, #22d3ee, #f59e0b, #8b5cf6);
    background-size: 200% 100%;
    animation: shimmer-bar 3s linear infinite;
}

@keyframes shimmer-bar {
    0% { background-position: 0% 0; }
    100% { background-position: 200% 0; }
}

.sim-control-row {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 4px 0;
}

.sim-control-row label {
    min-width: 80px;
    font-size: 0.82rem;
    font-weight: 500;
    color: #cbd5e1;
    letter-spacing: 0.3px;
}

.sim-slider {
    flex: 1;
    -webkit-appearance: none;
    appearance: none;
    height: 6px;
    border-radius: 999px;
    background: linear-gradient(90deg, rgba(139, 92, 246, 0.3), rgba(34, 211, 238, 0.3));
    outline: none;
    cursor: pointer;
}

.sim-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: linear-gradient(135deg, #8b5cf6, #22d3ee);
    border: 2px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 0 8px rgba(139, 92, 246, 0.5);
    cursor: grab;
    transition: transform 0.15s, box-shadow 0.15s;
}

.sim-slider::-webkit-slider-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 0 14px rgba(139, 92, 246, 0.7);
}

.sim-slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: linear-gradient(135deg, #8b5cf6, #22d3ee);
    border: 2px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 0 8px rgba(139, 92, 246, 0.5);
    cursor: grab;
}

.sim-slider-val {
    min-width: 52px;
    text-align: right;
    font-size: 0.8rem;
    font-weight: 700;
    color: #22d3ee;
    font-family: 'Courier New', monospace;
    background: rgba(34, 211, 238, 0.08);
    padding: 2px 6px;
    border-radius: 4px;
    border: 1px solid rgba(34, 211, 238, 0.15);
}

.sim-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(75px, 1fr));
    gap: 6px;
    margin-top: 8px;
}

.sim-stat-card {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(34, 211, 238, 0.05));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 8px;
    padding: 8px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.sim-stat-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.03), transparent);
    animation: card-shine 4s ease-in-out infinite;
}

@keyframes card-shine {
    0%, 100% { left: -100%; }
    50% { left: 100%; }
}

.sim-stat-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: #94a3b8;
    margin-bottom: 2px;
}

.sim-stat-value {
    font-size: 1.1rem;
    font-weight: 800;
    color: #f1f5f9;
    font-family: 'Courier New', monospace;
}

.sim-stat-unit {
    font-size: 0.65rem;
    color: #64748b;
}

.sim-action-btn {
    width: 100%;
    margin-top: 10px;
    padding: 10px;
    font-weight: 700;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    border: 1px solid rgba(139, 92, 246, 0.4) !important;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(34, 211, 238, 0.1)) !important;
    box-shadow: 0 0 12px rgba(139, 92, 246, 0.15);
    transition: all 0.2s;
}

.sim-action-btn:hover {
    box-shadow: 0 0 22px rgba(139, 92, 246, 0.3);
    transform: translateY(-1px);
}

.game-canvas-panel {
    border: 1px solid rgba(139, 92, 246, 0.25) !important;
    box-shadow: 0 0 30px rgba(139, 92, 246, 0.08), inset 0 0 60px rgba(0, 0, 0, 0.3);
}

.sim-badge {
    padding: 6px 12px;
    border-radius: 999px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.35), rgba(34, 211, 238, 0.25));
    border: 1px solid rgba(139, 92, 246, 0.5);
    font-size: 0.75rem;
    font-weight: 600;
    color: #fff;
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 12px rgba(139, 92, 246, 0.3), 0 0 6px rgba(34, 211, 238, 0.15);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
    animation: badge-pulse 3s ease-in-out infinite;
}

@keyframes badge-pulse {
    0%, 100% { box-shadow: 0 2px 12px rgba(139, 92, 246, 0.3), 0 0 6px rgba(34, 211, 238, 0.15); }
    50% { box-shadow: 0 2px 18px rgba(139, 92, 246, 0.5), 0 0 12px rgba(34, 211, 238, 0.25); }
}

@media (max-width: 1024px) {
    .games-hero {
        grid-template-columns: 1fr;
    }

    .game-detail-hero {
        grid-template-columns: 1fr;
    }

    .game-play-layout {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 640px) {
    .game-card-actions {
        flex-direction: column;
    }

    .games-hero {
        padding: var(--spacing-lg);
    }
}

/* ========== Enhanced Gamified Dark Theme for Simulators ========== */

.gamified-dark {
    background: linear-gradient(145deg, #0f1419, #1a1528) !important;
    border: 1px solid rgba(139, 92, 246, 0.4) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6), 
                0 0 25px rgba(139, 92, 246, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
}

.gamified-header {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.25), rgba(34, 211, 238, 0.15)) !important;
    border-radius: 8px !important;
    padding: 12px 16px !important;
    margin-bottom: 16px !important;
    border: 1px solid rgba(139, 92, 246, 0.35) !important;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2) !important;
    font-size: 1rem !important;
    font-weight: 700 !important;
    letter-spacing: 0.5px !important;
    text-transform: uppercase !important;
    color: #f1f5f9 !important;
    text-shadow: 0 2px 8px rgba(139, 92, 246, 0.4) !important;
}

.gamified-control {
    background: rgba(15, 20, 40, 0.6) !important;
    padding: 12px !important;
    border-radius: 8px !important;
    border: 1px solid rgba(139, 92, 246, 0.2) !important;
    margin-bottom: 8px !important;
    transition: all 0.3s ease !important;
}

.gamified-control:hover {
    background: rgba(20, 25, 50, 0.7) !important;
    border-color: rgba(139, 92, 246, 0.4) !important;
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.15) !important;
}

.gamified-control label {
    font-weight: 600 !important;
    color: #cbd5e1 !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5) !important;
}

.gamified-slider {
    height: 8px !important;
    background: linear-gradient(90deg, 
        rgba(139, 92, 246, 0.4), 
        rgba(34, 211, 238, 0.4)) !important;
    border-radius: 999px !important;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3) !important;
}

.gamified-slider::-webkit-slider-thumb {
    width: 22px !important;
    height: 22px !important;
    background: linear-gradient(135deg, #8b5cf6 0%, #22d3ee 100%) !important;
    border: 3px solid rgba(255, 255, 255, 0.6) !important;
    box-shadow: 0 0 12px rgba(139, 92, 246, 0.8), 
                0 4px 8px rgba(0, 0, 0, 0.4) !important;
    cursor: grab !important;
}

.gamified-slider::-webkit-slider-thumb:active {
    cursor: grabbing !important;
    transform: scale(1.2) !important;
    box-shadow: 0 0 20px rgba(139, 92, 246, 1), 
                0 6px 12px rgba(0, 0, 0, 0.5) !important;
}

.gamified-slider::-moz-range-thumb {
    width: 22px !important;
    height: 22px !important;
    background: linear-gradient(135deg, #8b5cf6 0%, #22d3ee 100%) !important;
    border: 3px solid rgba(255, 255, 255, 0.6) !important;
    box-shadow: 0 0 12px rgba(139, 92, 246, 0.8), 
                0 4px 8px rgba(0, 0, 0, 0.4) !important;
}

.gamified-value {
    font-weight: 800 !important;
    color: #22d3ee !important;
    background: rgba(34, 211, 238, 0.15) !important;
    padding: 4px 10px !important;
    border-radius: 6px !important;
    border: 1px solid rgba(34, 211, 238, 0.3) !important;
    text-shadow: 0 0 10px rgba(34, 211, 238, 0.6) !important;
    box-shadow: 0 0 8px rgba(34, 211, 238, 0.2) !important;
}

.gamified-stats {
    gap: 10px !important;
    margin-top: 16px !important;
}

.gamified-stat {
    background: linear-gradient(135deg, 
        rgba(139, 92, 246, 0.15), 
        rgba(34, 211, 238, 0.1)) !important;
    border: 1px solid rgba(139, 92, 246, 0.3) !important;
    padding: 12px !important;
    border-radius: 10px !important;
    position: relative !important;
    overflow: hidden !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

.gamified-stat::before {
    content: '' !important;
    position: absolute !important;
    top: -50% !important;
    left: -50% !important;
    width: 200% !important;
    height: 200% !important;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%) !important;
    animation: stat-glow 3s ease-in-out infinite !important;
}

@keyframes stat-glow {
    0%, 100% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.1); }
}

.gamified-btn {
    background: linear-gradient(135deg, 
        rgba(139, 92, 246, 0.3), 
        rgba(34, 211, 238, 0.2)) !important;
    border: 2px solid rgba(139, 92, 246, 0.5) !important;
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.3), 
                0 4px 12px rgba(0, 0, 0, 0.4) !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
    font-weight: 800 !important;
    letter-spacing: 1px !important;
    transition: all 0.3s ease !important;
    position: relative !important;
    overflow: hidden !important;
}

.gamified-btn::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.2), 
        transparent) !important;
    transition: left 0.5s ease !important;
}

.gamified-btn:hover::before {
    left: 100% !important;
}

.gamified-btn:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 0 30px rgba(139, 92, 246, 0.5), 
                0 6px 16px rgba(0, 0, 0, 0.5) !important;
    border-color: rgba(139, 92, 246, 0.8) !important;
}

.gamified-btn:active {
    transform: translateY(0) !important;
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.4) !important;
}

.btn-secondary {
    background: linear-gradient(135deg, 
        rgba(100, 116, 139, 0.3), 
        rgba(71, 85, 105, 0.2)) !important;
    border-color: rgba(100, 116, 139, 0.5) !important;
}

.btn-secondary:hover {
    box-shadow: 0 0 20px rgba(100, 116, 139, 0.4) !important;
    border-color: rgba(100, 116, 139, 0.7) !important;
}

.gamified-select {
    background: linear-gradient(135deg, 
        rgba(15, 20, 40, 0.9), 
        rgba(20, 10, 50, 0.8)) !important;
    border: 1px solid rgba(139, 92, 246, 0.4) !important;
    color: #f1f5f9 !important;
    padding: 10px 14px !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
}

.gamified-select:hover {
    border-color: rgba(139, 92, 246, 0.6) !important;
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.3) !important;
}

.gamified-select:focus {
    outline: none !important;
    border-color: rgba(34, 211, 238, 0.6) !important;
    box-shadow: 0 0 20px rgba(34, 211, 238, 0.4) !important;
}

.gamified-result {
    background: linear-gradient(135deg, 
        rgba(16, 185, 129, 0.15), 
        rgba(5, 150, 105, 0.1)) !important;
    border: 1px solid rgba(16, 185, 129, 0.4) !important;
    border-radius: 10px !important;
    padding: 14px !important;
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.15), 
                inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
    color: #f1f5f9 !important;
    font-weight: 600 !important;
}

/* Gamified Viewport/Canvas */
.gamified-viewport {
    background: linear-gradient(145deg, #0a0e14, #0f1419) !important;
    border: 2px solid rgba(139, 92, 246, 0.3) !important;
    box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(139, 92, 246, 0.15) !important;
    border-radius: 12px !important;
    overflow: hidden !important;
    position: relative !important;
}

.gamified-viewport::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: 
        radial-gradient(circle at 20% 30%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(34, 211, 238, 0.05) 0%, transparent 50%) !important;
    pointer-events: none !important;
}

/* Sidebar gamification */
.game-panel.gamified-sidebar {
    background: linear-gradient(180deg, #0f1419 0%, #1a1528 50%, #0f1419 100%) !important;
    border-right: 2px solid rgba(139, 92, 246, 0.3) !important;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.5) !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
}

.game-panel.gamified-sidebar::-webkit-scrollbar {
    width: 8px;
}

.game-panel.gamified-sidebar::-webkit-scrollbar-track {
    background: rgba(15, 20, 25, 0.5);
    border-radius: 4px;
}

.game-panel.gamified-sidebar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #8b5cf6, #22d3ee);
    border-radius: 4px;
    transition: background 0.3s ease;
}

.game-panel.gamified-sidebar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #a78bfa, #38bdf8);
}

/* Gamified Category Cards */
.gamified-category {
    background: linear-gradient(135deg, 
        rgba(139, 92, 246, 0.15), 
        rgba(34, 211, 238, 0.1)) !important;
    border: 2px solid rgba(139, 92, 246, 0.3) !important;
    border-radius: 12px !important;
    padding: 16px !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    position: relative !important;
    overflow: hidden !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3) !important;
}

.gamified-category::before {
    content: '' !important;
    position: absolute !important;
    top: -50% !important;
    left: -50% !important;
    width: 200% !important;
    height: 200% !important;
    background: radial-gradient(circle, 
        rgba(139, 92, 246, 0.15) 0%, 
        transparent 70%) !important;
    opacity: 0 !important;
    transition: opacity 0.5s ease !important;
}

.gamified-category:hover::before {
    opacity: 1 !important;
    animation: category-pulse 2s ease-in-out infinite !important;
}

@keyframes category-pulse {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(180deg); }
}

.gamified-category:hover {
    transform: translateY(-4px) scale(1.02) !important;
    border-color: rgba(139, 92, 246, 0.6) !important;
    box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4), 
                0 0 20px rgba(34, 211, 238, 0.2) !important;
}

.gamified-category:active {
    transform: translateY(-1px) scale(0.98) !important;
}

.gamified-category .category-icon {
    font-size: 2.5rem !important;
    margin-bottom: 8px !important;
    filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.5)) !important;
    animation: icon-float 3s ease-in-out infinite !important;
}

@keyframes icon-float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-8px); }
}

.gamified-category h3 {
    font-size: 1.1rem !important;
    font-weight: 700 !important;
    color: #f1f5f9 !important;
    margin: 8px 0 4px 0 !important;
    text-shadow: 0 2px 8px rgba(139, 92, 246, 0.4) !important;
}

.gamified-category .sim-status {
    font-size: 0.8rem !important;
    color: #94a3b8 !important;
    font-weight: 500 !important;
}

/* Gamified List */
.gamified-list {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
    margin-top: 12px !important;
}

.gamified-list-item {
    background: linear-gradient(135deg, 
        rgba(15, 20, 40, 0.8), 
        rgba(20, 10, 50, 0.7)) !important;
    border: 1px solid rgba(139, 92, 246, 0.25) !important;
    border-radius: 10px !important;
    padding: 12px 14px !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
    position: relative !important;
    overflow: hidden !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

.gamified-list-item::before {
    content: '' !important;
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    bottom: 0 !important;
    width: 3px !important;
    background: linear-gradient(180deg, #8b5cf6, #22d3ee) !important;
    opacity: 0 !important;
    transition: opacity 0.3s ease !important;
}

.gamified-list-item:hover::before {
    opacity: 1 !important;
}

.gamified-list-item:hover {
    transform: translateX(4px) !important;
    background: linear-gradient(135deg, 
        rgba(20, 25, 50, 0.9), 
        rgba(25, 15, 60, 0.8)) !important;
    border-color: rgba(139, 92, 246, 0.5) !important;
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.25), 
                0 0 20px rgba(0, 0, 0, 0.3) !important;
}

.gamified-list-item:active {
    transform: translateX(2px) scale(0.98) !important;
}

.gamified-list-item .sim-item-icon {
    font-size: 1.8rem !important;
    min-width: 40px !important;
    height: 40px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: linear-gradient(135deg, 
        rgba(139, 92, 246, 0.2), 
        rgba(34, 211, 238, 0.15)) !important;
    border-radius: 8px !important;
    border: 1px solid rgba(139, 92, 246, 0.3) !important;
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.2) !important;
}

.gamified-list-item .sim-item-content {
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 4px !important;
}

.gamified-list-item .sim-item-title {
    font-size: 0.95rem !important;
    font-weight: 700 !important;
    color: #f1f5f9 !important;
    letter-spacing: 0.3px !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5) !important;
}

.gamified-list-item .sim-status {
    font-size: 0.75rem !important;
    color: #94a3b8 !important;
    line-height: 1.3 !important;
}

/* Gamified Status */
.gamified-status {
    background: rgba(15, 20, 40, 0.6) !important;
    border: 1px solid rgba(139, 92, 246, 0.25) !important;
    border-radius: 8px !important;
    padding: 12px !important;
    margin-top: 12px !important;
    font-size: 0.85rem !important;
    color: #cbd5e1 !important;
    text-align: center !important;
    box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

